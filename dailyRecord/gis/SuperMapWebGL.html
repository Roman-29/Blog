<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SuperMap iClient 3D for WebGL | Roman&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Blog/images/logo.png">
    <meta name="description" content="ğŸ“æ¯å¤©è®°å½•ä¸€ç‚¹ç‚¹">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.97ce9fae.css" as="style"><link rel="preload" href="/Blog/assets/js/app.d6f4b6a2.js" as="script"><link rel="preload" href="/Blog/assets/js/2.fd75a44f.js" as="script"><link rel="preload" href="/Blog/assets/js/7.7a16dec8.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.ef8ad2af.js"><link rel="prefetch" href="/Blog/assets/js/11.6c4cb71a.js"><link rel="prefetch" href="/Blog/assets/js/12.bf292e9a.js"><link rel="prefetch" href="/Blog/assets/js/13.27d3af28.js"><link rel="prefetch" href="/Blog/assets/js/14.c90a7c8e.js"><link rel="prefetch" href="/Blog/assets/js/15.d1fb7a7e.js"><link rel="prefetch" href="/Blog/assets/js/16.090affc6.js"><link rel="prefetch" href="/Blog/assets/js/17.4e5df8a3.js"><link rel="prefetch" href="/Blog/assets/js/18.db68a2d0.js"><link rel="prefetch" href="/Blog/assets/js/19.78ffae18.js"><link rel="prefetch" href="/Blog/assets/js/20.326bfd19.js"><link rel="prefetch" href="/Blog/assets/js/21.4bc7c7af.js"><link rel="prefetch" href="/Blog/assets/js/22.d5f7595c.js"><link rel="prefetch" href="/Blog/assets/js/23.e48ece5c.js"><link rel="prefetch" href="/Blog/assets/js/24.4c1ca19a.js"><link rel="prefetch" href="/Blog/assets/js/25.97fa940f.js"><link rel="prefetch" href="/Blog/assets/js/26.acb8e14e.js"><link rel="prefetch" href="/Blog/assets/js/27.4233a341.js"><link rel="prefetch" href="/Blog/assets/js/28.a2ff22a3.js"><link rel="prefetch" href="/Blog/assets/js/29.6016abd9.js"><link rel="prefetch" href="/Blog/assets/js/3.c01d88b2.js"><link rel="prefetch" href="/Blog/assets/js/30.61781442.js"><link rel="prefetch" href="/Blog/assets/js/31.c4b84ed1.js"><link rel="prefetch" href="/Blog/assets/js/32.e426325a.js"><link rel="prefetch" href="/Blog/assets/js/33.90e060c3.js"><link rel="prefetch" href="/Blog/assets/js/34.7059796b.js"><link rel="prefetch" href="/Blog/assets/js/35.53956048.js"><link rel="prefetch" href="/Blog/assets/js/36.b2e386ad.js"><link rel="prefetch" href="/Blog/assets/js/37.8918b02a.js"><link rel="prefetch" href="/Blog/assets/js/38.16fe91ea.js"><link rel="prefetch" href="/Blog/assets/js/39.1a8073b2.js"><link rel="prefetch" href="/Blog/assets/js/4.accf9f2c.js"><link rel="prefetch" href="/Blog/assets/js/40.3383d598.js"><link rel="prefetch" href="/Blog/assets/js/41.85fae2a9.js"><link rel="prefetch" href="/Blog/assets/js/42.0404369c.js"><link rel="prefetch" href="/Blog/assets/js/43.bde5e9e5.js"><link rel="prefetch" href="/Blog/assets/js/44.babab1d1.js"><link rel="prefetch" href="/Blog/assets/js/45.3fa179d9.js"><link rel="prefetch" href="/Blog/assets/js/46.b3b4f85b.js"><link rel="prefetch" href="/Blog/assets/js/47.6759b2e2.js"><link rel="prefetch" href="/Blog/assets/js/48.64cdfd94.js"><link rel="prefetch" href="/Blog/assets/js/49.d58826b4.js"><link rel="prefetch" href="/Blog/assets/js/5.422be1ef.js"><link rel="prefetch" href="/Blog/assets/js/6.12713950.js"><link rel="prefetch" href="/Blog/assets/js/8.10f0167f.js"><link rel="prefetch" href="/Blog/assets/js/9.e1456e0e.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.97ce9fae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">Roman's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/dailyRecord/" class="nav-link router-link-active">
  ğŸ“šå­¦ä¹ æ€»ç»“
</a></div><div class="nav-item"><a href="/Blog/bookmark/" class="nav-link">
  ğŸ“Œä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Blog/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Roman-29" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/dailyRecord/" class="nav-link router-link-active">
  ğŸ“šå­¦ä¹ æ€»ç»“
</a></div><div class="nav-item"><a href="/Blog/bookmark/" class="nav-link">
  ğŸ“Œä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Blog/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Roman-29" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3æºç </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å•å…ƒæµ‹è¯•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>GIS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/dailyRecord/gis/OpenLayers.html" class="sidebar-link">OpenLayers åŸºç¡€</a></li><li><a href="/Blog/dailyRecord/gis/OLSourceCode1.html" class="sidebar-link">OpenLayers æºç åˆ†æ(ä¸Šç¯‡)</a></li><li><a href="/Blog/dailyRecord/gis/OLSourceCode2.html" class="sidebar-link">OpenLayers æºç åˆ†æ(ä¸‹ç¯‡)</a></li><li><a href="/Blog/dailyRecord/gis/ArcgisAPI.html" class="sidebar-link">Arcgis API</a></li><li><a href="/Blog/dailyRecord/gis/GISsystem.html" class="sidebar-link">GIS ä½“ç³»ä»‹ç»</a></li><li><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html" aria-current="page" class="active sidebar-link">SuperMap iClient 3D for WebGL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç›®æ ‡" class="sidebar-link">ç›®æ ‡</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç®€ä»‹" class="sidebar-link">ç®€ä»‹</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#cesium-ç»“æ„ä»‹ç»" class="sidebar-link">cesium ç»“æ„ä»‹ç»</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#cesium-æ•´ä½“æ¡†æ¶ä½“ç³»" class="sidebar-link">cesium æ•´ä½“æ¡†æ¶ä½“ç³»</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#å®‰è£…ä½¿ç”¨" class="sidebar-link">å®‰è£…ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#cesium-æ ¸å¿ƒ" class="sidebar-link">Cesium æ ¸å¿ƒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#è§†å›¾" class="sidebar-link">è§†å›¾</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#åœºæ™¯" class="sidebar-link">åœºæ™¯</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#åœ°å½¢" class="sidebar-link">åœ°å½¢</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç›¸æœº-camera" class="sidebar-link">ç›¸æœºï¼ˆcameraï¼‰</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç¬›å¡å°”åæ ‡" class="sidebar-link">ç¬›å¡å°”åæ ‡</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#æœåŠ¡" class="sidebar-link">æœåŠ¡</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#æœåŠ¡ç®¡ç†" class="sidebar-link">æœåŠ¡ç®¡ç†</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#imageryproviderä¸imagerylayer" class="sidebar-link">ImageryProviderä¸ImageryLayer</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#arcgis-åœ°å›¾æœåŠ¡" class="sidebar-link">arcgis åœ°å›¾æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#è¶…å›¾åœ°å›¾æœåŠ¡" class="sidebar-link">è¶…å›¾åœ°å›¾æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#äºŒç»´åˆ‡ç‰‡æœåŠ¡" class="sidebar-link">äºŒç»´åˆ‡ç‰‡æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#å¤©åœ°å›¾-wmts" class="sidebar-link">å¤©åœ°å›¾ï¼ˆWMTSï¼‰</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ä¸‰ç»´åˆ‡ç‰‡æœåŠ¡" class="sidebar-link">ä¸‰ç»´åˆ‡ç‰‡æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#åœ°å½¢æœåŠ¡" class="sidebar-link">åœ°å½¢æœåŠ¡</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ä¸‰ç»´æœåŠ¡" class="sidebar-link">ä¸‰ç»´æœåŠ¡</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç©ºé—´å›¾å½¢" class="sidebar-link">ç©ºé—´å›¾å½¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#cesium-entity-è¦ç´ å®ä½“" class="sidebar-link">Cesium.Entity ï¼ˆè¦ç´ å®ä½“ï¼‰</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç¬¦å·ä¸æ¸²æŸ“" class="sidebar-link">ç¬¦å·ä¸æ¸²æŸ“</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#primitive" class="sidebar-link">Primitive</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#cesium-customdatasource-çŸ¢é‡æ•°æ®æº" class="sidebar-link">Cesium.CustomDataSource ï¼ˆçŸ¢é‡æ•°æ®æºï¼‰</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#ç»˜åˆ¶-cesium-drawhandler" class="sidebar-link">ç»˜åˆ¶ Cesium.DrawHandler</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/gis/SuperMapWebGL.html#äº‹ä»¶" class="sidebar-link">äº‹ä»¶</a></li></ul></li><li><a href="/Blog/dailyRecord/gis/SuperMap3DStudy.html" class="sidebar-link">ä¸‰ç»´ WebGIS å­¦ä¹ ç¬”è®°</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯æ¨¡å—åŒ–å’Œæ‰“åŒ…å·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å†…åŠŸä¿®ç‚¼</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯å¼‚å¸¸ç›‘æ§</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ€»ç»“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å…¶ä»–</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="supermap-iclient-3d-for-webgl"><a href="#supermap-iclient-3d-for-webgl" class="header-anchor">#</a> SuperMap iClient 3D for WebGL</h1> <h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="header-anchor">#</a> ç›®æ ‡</h2> <ol><li><p>äº†è§£ cesium çš„åŸºæœ¬ç»“æ„</p></li> <li><p>ä¸‰ç»´åœ°çƒåŠ è½½åœ°å›¾æœåŠ¡</p></li> <li><p>è‡ªå®šä¹‰ç©ºé—´å›¾å½¢</p></li> <li><p>ç®€å•çš„äº¤äº’äº‹ä»¶</p></li></ol> <h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h2> <p><strong>SuperMap iClient 3D for WebGL</strong></p> <p>SuperMap iClient 3D for WebGL æ˜¯ä¸€æ¬¾åœ¨æœåŠ¡å¼ GIS æ¶æ„ä½“ç³»ä¸­ï¼Œ æ— ä»»ä½•æ’ä»¶ï¼Œè·¨æµè§ˆå™¨çš„å®¢æˆ·ç«¯äº§å“ã€‚å®ƒåŸºäº Cesium å¼€æºæ¡†æ¶,é¢å‘ HTML 5 çš„ä¸‰ç»´åº”ç”¨å¼€å‘ï¼Œå¿«é€Ÿæ„å»ºå†…å®¹ä¸°å¯Œã€å“åº”è¿…é€Ÿã€ä½“éªŒæµç•…çš„ä¸‰ç»´çœŸç©ºé—´åº”ç”¨ã€‚</p> <p>http://support.supermap.com.cn:8090/webgl/</p> <p>åœ¨å®˜ç½‘åœ°å€å¯ä»¥ä¸‹è½½åˆ°æœ€æ–°çš„è¶…å›¾ WEBGL åŒ…ï¼Œä»¥åŠæ£€æµ‹è‡ªå·±çš„æµè§ˆå™¨çš„ WEBGL æ”¯æŒç¨‹åº¦ã€‚</p> <p><strong>Vue-iClient3D-WebGL</strong></p> <p>å®˜æ–¹ä¹Ÿæä¾›äº†ä¸€ä¸ªåœ¨ SuperMap_iClient3D_for_WebGL äº§å“åŒ…åŸºç¡€ä¸Šä½¿ç”¨ Vue æ¡†æ¶è¿›è¡Œå°è£…çš„åº“ï¼Œå°†ä¸‰ç»´åº”ç”¨çš„å¸¸ç”¨åŠŸèƒ½ä»¥ç»„ä»¶çš„å½¢å¼æä¾›ï¼Œä½¿ä¹‹è½»é‡ä¸”é«˜æ•ˆã€‚</p> <p>http://support.supermap.com.cn:8090/webgl/examples/component/dist/</p> <p>è¿™ä¸ªåº“é‡Œä¹Ÿæœ‰è®¸å¤šå·²ç»å°è£…å¥½çš„ä¸‰ç»´åˆ†æç»„ä»¶å€¼å¾—æˆ‘ä»¬å­¦ä¹ ã€‚</p> <h2 id="cesium-ç»“æ„ä»‹ç»"><a href="#cesium-ç»“æ„ä»‹ç»" class="header-anchor">#</a> cesium ç»“æ„ä»‹ç»</h2> <h3 id="cesium-æ•´ä½“æ¡†æ¶ä½“ç³»"><a href="#cesium-æ•´ä½“æ¡†æ¶ä½“ç³»" class="header-anchor">#</a> cesium æ•´ä½“æ¡†æ¶ä½“ç³»</h3> <p><img src="/Blog/assets/img/cesium.0c1440a0.jpg" alt="image"></p> <p>å…³é”®éƒ¨åˆ†ï¼š</p> <p><img src="/Blog/assets/img/cesiumCore.b59d81b7.png" alt="image"></p> <h2 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="header-anchor">#</a> å®‰è£…ä½¿ç”¨</h2> <p>ä¸‹è½½è¶…å›¾æä¾›çš„ cesium åŒ…ï¼Œæ”¾åˆ° public ç›®å½•ä¸‹ã€‚</p> <p>å¼•ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p> <p><img src="/Blog/assets/img/indexyinru.517398bd.png" alt="image"></p> <p>é¿å… eslint æŠ¥é”™ï¼Œä¿®æ”¹.eslintrc.js</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  globals<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;Cesium&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç¼–å†™è‡ªå·±çš„ map ç»„ä»¶ï¼š</p> <div class="language-VUE extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>luojw-map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapNode<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;luojw-map&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      viewer<span class="token operator">:</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>mapNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>mapNode<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">_initMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapNode<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        infoBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        selectionIndicator<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        navigation<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>åœ¨ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™æ³¨å†Œå¹¶ä½¿ç”¨ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span>name<span class="token punctuation">,</span> component<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span><span class="token operator">...</span>

<span class="token comment">// æŸä¸ªVUEæ–‡ä»¶çš„&lt;template&gt;ä¸­ï¼š</span>

<span class="token operator">&lt;</span>luojw<span class="token operator">-</span>supermap<span class="token operator">&gt;</span>
  <span class="token operator">...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>luojw<span class="token operator">-</span>supermap<span class="token operator">&gt;</span>
</code></pre></div><h2 id="cesium-æ ¸å¿ƒ"><a href="#cesium-æ ¸å¿ƒ" class="header-anchor">#</a> Cesium æ ¸å¿ƒ</h2> <h3 id="è§†å›¾"><a href="#è§†å›¾" class="header-anchor">#</a> è§†å›¾</h3> <p><code>new Cesium.Viewer(container, options)</code></p> <p>Viewer ç±»æ˜¯ cesium çš„æ ¸å¿ƒç±»ï¼Œæ˜¯åœ°å›¾å¯è§†åŒ–å±•ç¤ºçš„ä¸»çª—å£ï¼Œæ‰®æ¼”å¿…ä¸å¯å°‘çš„æ ¸å¿ƒè§’è‰²ã€‚</p> <table><thead><tr><th>å‚æ•°å</th> <th>Type</th> <th>ç®€ä»‹</th></tr></thead> <tbody><tr><td>container</td> <td>Element / String</td> <td>æŒ‡å®šå®¹çº³ viewer éƒ¨ä»¶çš„ HTML å…ƒç´ çš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰æˆ– IDã€‚</td></tr> <tr><td>terrainProvider</td> <td>TerrainProvider</td> <td>åœ°å½¢æä¾›è€…ã€‚ï¼ˆé»˜è®¤ç”Ÿæˆ WGS84 æ¤­çƒä½“ï¼‰</td></tr> <tr><td>mapProjection</td> <td>MapProjection</td> <td>åœ°å›¾æŠ•å½±ï¼Œé»˜è®¤ WGS84</td></tr></tbody></table> <p>è¿˜æœ‰ä¸€äº›è‡ªå¸¦çš„åœºæ™¯æ§åˆ¶ç»„ä»¶ï¼ˆå¯¼èˆªï¼Œåº•å›¾åˆ‡æ¢ï¼Œæ—¶é—´è½´ï¼‰ä¹Ÿæ˜¯åœ¨ viewer ä¸­æ§åˆ¶ã€‚</p> <h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="header-anchor">#</a> åœºæ™¯</h3> <p><code>new Cesium.Scene(options)</code></p> <p>ä¸‰ç»´åœºæ™¯ç±»ï¼Œå®ƒæ˜¯æ‰€æœ‰ä¸‰ç»´å›¾å½¢å¯¹è±¡å’ŒçŠ¶æ€çš„å®¹å™¨ã€‚</p> <p>scene ä¸­æœ‰ä¸€ä¸ª mode å±æ€§ï¼Œç”¨æ¥æ§åˆ¶åœ°å›¾çš„æ˜¾ç¤ºæ¨¡å¼ï¼Œé»˜è®¤æ˜¯ 3Dã€‚å¯ä»¥ä¿®æ”¹ä¸º 2D æˆ–æ˜¯ 2.5D æ¨¡å¼ã€‚</p> <h3 id="åœ°å½¢"><a href="#åœ°å½¢" class="header-anchor">#</a> åœ°å½¢</h3> <p>åœ¨å®ä¾‹åŒ– Cesium.Viewer çš„æ—¶å€™ï¼Œé»˜è®¤ä¼šæ ¹æ® mapProjection ç”Ÿæˆä¸€ä¸ªæ¤­çƒä½“ä½œä¸ºåœ°çƒã€‚</p> <p>new Cesium.EllipsoidTerrainProvider(ellipsoid)</p> <p>é»˜è®¤æ¤­çƒä¸º WGS84 çš„æ¤­çƒï¼Œåœ¨è¶…å›¾å°è£…çš„ Cesium åŒ…é‡Œï¼ŒEllipsoid è¿˜å®šä¹‰å¥½äº†å›½å®¶ 2000ï¼Œè¥¿å®‰ 80 ç­‰åæ ‡ç³»çš„æ¤­çƒå‚æ•°ã€‚</p> <p><a href="http://support.supermap.com.cn:8090/webgl/Build/Documentation/Ellipsoid.html" target="_blank" rel="noopener noreferrer">Ellipsoid<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="ç›¸æœº-camera"><a href="#ç›¸æœº-camera" class="header-anchor">#</a> ç›¸æœºï¼ˆcameraï¼‰</h3> <p><code>new Cesium.Camera(scene)</code></p> <p>å¯¹ Viewer è¿›è¡Œè§†å›¾æ§åˆ¶</p> <p><strong>æ–¹æ³•ä¸€ï¼šé€šè¿‡ setView å‡½æ•°æ§åˆ¶</strong></p> <p>ä¼ å…¥ä¸­å¿ƒç‚¹ç»çº¬åº¦</p> <div class="language-js extra-class"><pre class="language-js"><code>view<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  destination<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.435314</span><span class="token punctuation">,</span> <span class="token number">39.960521</span><span class="token punctuation">,</span> <span class="token number">15000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®ä½ç½®</span>

  orientation<span class="token operator">:</span> <span class="token punctuation">{</span>
    heading<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ–¹å‘</span>
    pitch<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// å€¾æ–œè§’åº¦</span>
    roll<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// æ»šåŠ¨è§’</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¼ å…¥èŒƒå›´ç»çº¬åº¦</p> <div class="language-js extra-class"><pre class="language-js"><code>view<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  destination<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Rectangle<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">20.0</span><span class="token punctuation">,</span> <span class="token number">10.0</span><span class="token punctuation">,</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//west, south, east, north</span>

  orientation<span class="token operator">:</span> <span class="token punctuation">{</span>
    heading<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ–¹å‘</span>
    pitch<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// å€¾æ–œè§’åº¦</span>
    roll<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>æ–¹æ³•äºŒï¼šé€šè¿‡ flyto å‡½æ•°æ§åˆ¶</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>view<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  destination<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">116.435314</span><span class="token punctuation">,</span> <span class="token number">39.960521</span><span class="token punctuation">,</span> <span class="token number">15000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®ä½ç½®</span>
  orientation<span class="token operator">:</span> <span class="token punctuation">{</span>
    heading<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ–¹å‘</span>
    pitch<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// å€¾æ–œè§’åº¦</span>
    roll<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  duration<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// è®¾ç½®é£è¡ŒæŒç»­æ—¶é—´ï¼Œé»˜è®¤ä¼šæ ¹æ®è·ç¦»æ¥è®¡ç®—</span>
  <span class="token function-variable function">complete</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ°è¾¾ä½ç½®åæ‰§è¡Œçš„å›è°ƒå‡½æ•°</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">cancle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¦‚æœå–æ¶ˆé£è¡Œåˆ™ä¼šè°ƒç”¨æ­¤å‡½æ•°</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  pitchAdjustHeight<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token comment">// å¦‚æœæ‘„åƒæœºé£è¶Šé«˜äºè¯¥å€¼ï¼Œåˆ™è°ƒæ•´ä¿¯ä»°ä¿¯ä»°çš„ä¿¯ä»°è§’åº¦ï¼Œå¹¶å°†åœ°çƒä¿æŒåœ¨è§†å£ä¸­ã€‚</span>
  maximumHeight<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸æœºæœ€å¤§é£è¡Œé«˜åº¦</span>
  flyOverLongitude<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// å¦‚æœåˆ°è¾¾ç›®çš„åœ°æœ‰2ç§æ–¹å¼ï¼Œè®¾ç½®å…·ä½“å€¼åä¼šå¼ºåˆ¶é€‰æ‹©æ–¹å‘é£è¿‡è¿™ä¸ªç»åº¦ã€‚</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>æ–¹æ³•ä¸‰ï¼šé€šè¿‡ lookAt å‡½æ•°æ§åˆ¶</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> center <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">114.44455</span><span class="token punctuation">,</span> <span class="token number">22.0444</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//cameraè§†é‡çš„ä¸­å¿ƒç‚¹åæ ‡</span>
<span class="token keyword">var</span> heading <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token number">50.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pitch <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>Math<span class="token punctuation">.</span><span class="token function">toRadians</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> range <span class="token operator">=</span> <span class="token number">5000.0</span><span class="token punctuation">;</span>
view<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">lookAt</span><span class="token punctuation">(</span>center<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>HeadingPitchRange</span><span class="token punctuation">(</span>heading<span class="token punctuation">,</span> pitch<span class="token punctuation">,</span> range<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ç¬›å¡å°”åæ ‡"><a href="#ç¬›å¡å°”åæ ‡" class="header-anchor">#</a> ç¬›å¡å°”åæ ‡</h3> <p>ä½¿ç”¨ Cesium å¼€å‘ä¸‰ç»´ GIS åº”ç”¨ç¦»ä¸å¼€ç¬›å¡å°”åæ ‡ç³»ï¼Œè¿™æ˜¯ Cesium çš„åŸºç¡€æ•°æ®ç±»å‹ï¼Œæ‰€æœ‰åæ ‡æœ€åå‡è½¬æ¢æˆè¿™ä¸ªç±»å‹å‚ä¸ä¸‰ç»´æ¸²æŸ“ã€‚</p> <p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ä¸ªç¬›å¡å°”åæ ‡ç³»åˆ°åº•æ˜¯ä»€ä¹ˆä¸œä¸œï¼Ÿ</p> <ol><li><p>ç¬›å¡å°”åæ ‡ç³»åŸç‚¹æ˜¯åœ°çƒå‡ ä½•ä¸­å¿ƒï¼›</p></li> <li><p>ç¬›å¡å°”åæ ‡ç³»æ˜¯ç±³å•ä½;</p></li> <li><p>xz å¹³é¢æ˜¯ä¸­å¤®ç»çº¿å’Œ 180 åº¦ç»çº¿ç»„æˆçš„å¹³é¢ï¼Œå…¶ä¸­ x è½´æ­£æ–¹å‘æŒ‡å‘çš„æ˜¯ä¸­å¤®ç»çº¿ï¼Œx è½´è´Ÿæ–¹å‘æŒ‡å‘ 180 åº¦ç»çº¿;</p></li> <li><p>y è½´æ­£æ–¹å‘æŒ‡å‘ä¸œç» 90 åº¦ç»çº¿ï¼Œè´Ÿæ–¹å‘æŒ‡å‘è¥¿ç» 90 åº¦ç»çº¿ã€‚</p></li></ol> <p><img src="/Blog/assets/img/dikaer.4927f7f6.png" alt="image"></p> <h4 id="è¡¥å……å†…å®¹-æ¶‰åŠå¤§é‡æ•°å­¦çŸ¥è¯†"><a href="#è¡¥å……å†…å®¹-æ¶‰åŠå¤§é‡æ•°å­¦çŸ¥è¯†" class="header-anchor">#</a> è¡¥å……å†…å®¹ï¼Œæ¶‰åŠå¤§é‡æ•°å­¦çŸ¥è¯†</h4> <p>https://blog.csdn.net/wqy248/article/details/90701068</p> <h2 id="æœåŠ¡"><a href="#æœåŠ¡" class="header-anchor">#</a> æœåŠ¡</h2> <h3 id="æœåŠ¡ç®¡ç†"><a href="#æœåŠ¡ç®¡ç†" class="header-anchor">#</a> æœåŠ¡ç®¡ç†</h3> <p><code>new Cesium.ImageryLayerCollection()</code>
äºŒç»´åœ°å›¾æœåŠ¡å›¾å±‚é›†åˆç±»ã€‚è¯¥ç±»ä¸»è¦ç”¨äºå¯¹äºŒç»´åœ°å›¾æœåŠ¡å›¾å±‚è¿›è¡Œç®¡ç†ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapNode<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  infoBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  selectionIndicator<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–å½“å‰åœºæ™¯çš„äºŒç»´å›¾å±‚é›†åˆã€‚</span>
<span class="token keyword">let</span> imageryLayers <span class="token operator">=</span> viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">;</span>
</code></pre></div><p><code>new Cesium.Layers()</code>
å›¾å±‚é›†åˆç±»ã€‚è¯¥ç±»ç”¨äºå¯¹ä¸‰ç»´åœºæ™¯ä¸­çš„æ‰€æœ‰å›¾å±‚è¿›è¡Œç®¡ç†ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapNode<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  infoBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  selectionIndicator<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–å½“å‰åœºæ™¯çš„ä¸‰ç»´å›¾å±‚é›†åˆã€‚</span>
<span class="token keyword">let</span> layers <span class="token operator">=</span> viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>layers<span class="token punctuation">;</span>
</code></pre></div><h3 id="imageryproviderä¸imagerylayer"><a href="#imageryproviderä¸imagerylayer" class="header-anchor">#</a> <code>ImageryProvider</code>ä¸<code>ImageryLayer</code></h3> <p><strong><code>ImageryProvider</code></strong>
å½±åƒå›¾å±‚ç±»ï¼Œæ˜¯å›¾å±‚çš„æœåŠ¡æä¾›è€…ï¼Œä¸»è¦æ§åˆ¶å‡ºå›¾èƒŒæ™¯æ˜¯å¦é€æ˜ä»¥åŠå›¾ç‰‡æ ¼å¼ç­‰ã€‚</p> <p>å®˜æ–¹æä¾›çš„ç±»æœ‰ï¼š</p> <blockquote><p>ArcGisMapServerImageryProvider
SingleTileImageryProvider
BingMapsImageryProvider
GoogleEarthEnterpriseMapsProvider
MapboxImageryProvider
createOpenStreetMapImageryProvider
WebMapTileServiceImageryProvider
WebMapServiceImageryProvider</p></blockquote> <p>è¶…å›¾è‡ªå·±ä¹Ÿå°è£…äº†ä¸€å¥—</p> <blockquote><p>SuperMapImageryProvider</p></blockquote> <p><strong><code>ImageryLayer</code></strong>
å½±åƒå›¾å±‚ç±»ï¼Œç”¨äºæ˜¾ç¤ºå½±åƒæä¾›è€…çš„ç“¦ç‰‡å½±åƒæ•°æ®ã€‚
ä»–æ˜¯å…·ä½“çš„å›¾å±‚å¯¹è±¡ï¼Œæ§åˆ¶å›¾å±‚è‡ªèº«çš„é€æ˜åº¦ï¼Œè‰²è°ƒä»¥åŠå›¾å±‚çš„æ˜¾éšç­‰ã€‚</p> <h3 id="arcgis-åœ°å›¾æœåŠ¡"><a href="#arcgis-åœ°å›¾æœåŠ¡" class="header-anchor">#</a> arcgis åœ°å›¾æœåŠ¡</h3> <h4 id="åœ°å›¾æœåŠ¡"><a href="#åœ°å›¾æœåŠ¡" class="header-anchor">#</a> åœ°å›¾æœåŠ¡</h4> <div class="language-js extra-class"><pre class="language-js"><code>provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ArcGisMapServerImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> info<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
  layers<span class="token operator">:</span> layersID<span class="token punctuation">,</span>
  name<span class="token operator">:</span> info<span class="token punctuation">.</span><span class="token constant">ID</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="åˆ‡ç‰‡æœåŠ¡"><a href="#åˆ‡ç‰‡æœåŠ¡" class="header-anchor">#</a> åˆ‡ç‰‡æœåŠ¡</h4> <h3 id="è¶…å›¾åœ°å›¾æœåŠ¡"><a href="#è¶…å›¾åœ°å›¾æœåŠ¡" class="header-anchor">#</a> è¶…å›¾åœ°å›¾æœåŠ¡</h3> <h4 id="åŠ è½½åŠ¨æ€åœ°å›¾æœåŠ¡"><a href="#åŠ è½½åŠ¨æ€åœ°å›¾æœåŠ¡" class="header-anchor">#</a> åŠ è½½åŠ¨æ€åœ°å›¾æœåŠ¡</h4> <p>åœ¨ä¸‰ç»´åœºæ™¯ä¸­å¯¹åœ°å›¾æœåŠ¡è¿›è¡ŒåŠ è½½</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//åˆå§‹åŒ–vieweréƒ¨ä»¶</span>
<span class="token keyword">let</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> imageryLayers <span class="token operator">=</span> viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">;</span>

<span class="token comment">//åˆ©ç”¨æœåŠ¡urlåˆ›å»ºSuperMapImageryProviderå®ä¾‹</span>
<span class="token keyword">let</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>SuperMapImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token punctuation">,</span> <span class="token comment">//åœ°å›¾æœåŠ¡</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ–¹æ³•ä¸€ï¼š</span>
layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
imageryLayers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ–¹æ³•äºŒï¼šç›´æ¥æ·»åŠ æœåŠ¡æä¾›è€…</span>
imageryLayers<span class="token punctuation">.</span><span class="token function">addImageryProvide</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="è¶…å›¾æœåŠ¡å›¾å±‚æ§åˆ¶"><a href="#è¶…å›¾æœåŠ¡å›¾å±‚æ§åˆ¶" class="header-anchor">#</a> è¶…å›¾æœåŠ¡å›¾å±‚æ§åˆ¶</h4> <p>åœ¨<code>SuperMapImageryProvider</code>ç±»ä¸‹ï¼Œæœ‰ä¸€ä¸ª<code>layersID</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ç”¨æ¥æ§åˆ¶å­å›¾å±‚æ˜¾éšçš„ï¼Œå…·ä½“ä»‹ç»å¦‚ä¸‹ï¼š</p> <blockquote><p>å½“å‰åœ°å›¾å›¾å±‚ ID çš„å®šä¹‰è§„åˆ™å¦‚ä¸‹ï¼š</p> <ol><li>å„çº§å›¾å±‚æŒ‰ç…§å›¾å±‚é¡ºåºè‡ªä¸Šè€Œä¸‹ä» 0 å¼€å§‹ç¼–å·ï¼›</li> <li>å†’å·ï¼ˆ:ï¼‰å‰ä¸ºåœ°å›¾ï¼›</li> <li>è‹±æ–‡å¥å·ï¼ˆ.ï¼‰è¡¨ç¤ºå…¶ä»–å„çº§å›¾å±‚é—´çš„ä»å±å…³ç³»ï¼›</li> <li>è‹±æ–‡é€—å·ï¼ˆ,ï¼‰è¡¨ç¤ºå›¾å±‚é—´çš„åˆ†éš”ã€‚</li></ol> <p>ä¾‹å¦‚ï¼š</p> <ol><li>[0:0,1,2.0]è¡¨ç¤ºåœ°å›¾ 0 ä¸‹é¢çš„å›¾å±‚ï¼š0ã€1 åŠå…¶ä¸‹å±æ‰€æœ‰å­å›¾å±‚ï¼Œå’Œ 2 ä¸‹çš„å­å›¾å±‚ 0ï¼›</li> <li>[1:1.2,2]è¡¨ç¤ºåœ°å›¾ 1 ä¸‹é¢çš„å›¾å±‚ï¼š1 ä¸‹çš„å­å›¾å±‚ 2ï¼Œå’Œå›¾å±‚ 2 åŠå…¶ä¸‹å±æ‰€æœ‰å­å›¾å±‚ï¼›</li> <li>ä¸¤ä¸ªç¤ºä¾‹åˆå¹¶åœ¨ä¸€èµ·åˆ™æ˜¯ï¼š[0:0,1,2.0,1:1.2,2]
æ­¤å¤–ï¼Œ[0,1,2,3]è¡¨ç¤ºåœ°å›¾ 0 ä¸‹é¢çš„å›¾å±‚ 0ã€1ã€2ã€3 åŠæ‰€æœ‰å­å›¾å±‚ï¼Œ[0:,1:,2:]è¡¨ç¤ºåœ°å›¾ 0ã€1ã€2 åŠå…¶æ‰€æœ‰å­å›¾å±‚ã€‚</li> <li>å½“æˆ‘ä»¬åˆå§‹åŒ–å›¾å±‚ä¹‹åè¿˜æƒ³æ”¹å˜å›¾å±‚æ˜¾ç¤ºæ—¶å¯ä»¥ç›´æ¥å¦‚ä¸‹è¿›è¡Œè®¾ç½®ï¼š layer.layersID = â€œ[0:0,1,7,11]â€</li></ol></blockquote> <p><a href="http://support.supermap.com.cn/DataWarehouse/WebDocHelp/iServer/mergedProjects/SuperMapiServerRESTAPI/root/maps/map/tileImage.htm#layersID" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£è¯´æ˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="äºŒç»´åˆ‡ç‰‡æœåŠ¡"><a href="#äºŒç»´åˆ‡ç‰‡æœåŠ¡" class="header-anchor">#</a> äºŒç»´åˆ‡ç‰‡æœåŠ¡</h3> <p>è¶…å›¾å‘å¸ƒå¥½åˆ‡ç‰‡æœåŠ¡åï¼Œåˆ‡ç‰‡æœåŠ¡ä¹Ÿå¯ä»¥åŠ¨æ€å‡ºå›¾ï¼Œæ‰€ä»¥åŠ è½½çš„æ–¹å¼å’ŒåŠ¨æ€æœåŠ¡åŸºæœ¬ç›¸åŒã€‚ä¸è¿‡éœ€è¦ç»™æœåŠ¡æä¾›è€…ä¼ å…¥æœ€å¤§æœ€å°ç¼©æ”¾å±‚çº§ï¼Œå¦åˆ™å½“åœ°å›¾çš„æ¯”ä¾‹å°ºä¸åˆ‡ç‰‡æœåŠ¡çš„åˆ‡ç‰‡æ¯”ä¾‹å°ºå·®å¤ªè¿œçš„æ—¶å€™æ˜¾ç¤ºæ•ˆæœä¼šæœ‰é—®é¢˜ã€‚</p> <p>è·å–æœåŠ¡çš„åˆ‡ç‰‡ä¿¡æ¯
http://52.83.214.66:8090/iserver/services/map-ugcv5-ShiJieDiTuQiePianHuanCunBiLiChi/rest/maps/%E4%B8%96%E7%95%8C%E5%9C%B0%E5%9B%BE%E5%88%87%E7%89%87%E7%BC%93%E5%AD%98%E6%AF%94%E4%BE%8B%E5%B0%BA1.json</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> originResult <span class="token operator">=</span> <span class="token keyword">await</span> Cesium<span class="token punctuation">.</span><span class="token function">loadJson</span><span class="token punctuation">(</span>åœ°å›¾æœåŠ¡url <span class="token operator">+</span> <span class="token string">&quot;.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ‡ç‰‡ä¿¡æ¯</span>
<span class="token keyword">let</span> visibleScales <span class="token operator">=</span> originResult<span class="token punctuation">.</span>visibleScales<span class="token punctuation">;</span>

<span class="token comment">// åŒ¹é…å½“å‰æœåŠ¡çš„åˆ‡ç‰‡ä¸åœ°å›¾çš„ç¼©æ”¾å±‚çº§</span>
<span class="token keyword">let</span> min <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">findNearScale</span><span class="token punctuation">(</span>visibleScales<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> max <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">findNearScale</span><span class="token punctuation">(</span>visibleScales<span class="token punctuation">[</span>visibleScales<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>SuperMapImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span> åœ°å›¾æœåŠ¡<span class="token punctuation">,</span>
    <span class="token comment">// è®¾ç½®æœ€å¤§ç¼©æ”¾å±‚çº§åï¼Œåˆ°äº†æœ€å¤§ç¼©æ”¾å±‚çº§ï¼Œä¸ä¼šå»åç«¯è¯·æ±‚æ•°æ®ï¼Œä½†æ˜¯åœ°å›¾è¿˜å¯ä»¥ç»§ç»­æ”¾å¤§</span>
    maximumLevel<span class="token operator">:</span> max<span class="token punctuation">,</span>
    minimumLevel<span class="token operator">:</span> min
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">findNearScale</span><span class="token punctuation">(</span><span class="token parameter">scale</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// webGL3Dé‡‡ç”¨å›ºå®šæ¯”ä¾‹å°ºå‡ºå›¾ï¼Œä¸”ä»ç¬¬ä¸€çº§æ¯”ä¾‹å°ºå¼€å§‹ã€‚</span>
  <span class="token keyword">let</span> indexScale <span class="token operator">=</span> <span class="token number">3.3803271432053056e-9</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> sub<span class="token punctuation">;</span>
  <span class="token keyword">let</span> zoom <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> temp <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>scale <span class="token operator">-</span> indexScale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å¯¹æ¯”åˆ™ä¿ç•™</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sub <span class="token operator">=</span> temp<span class="token punctuation">;</span>
      indexScale <span class="token operator">=</span> indexScale <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token keyword">continue</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>sub <span class="token operator">&gt;</span> temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sub <span class="token operator">=</span> temp<span class="token punctuation">;</span>
      zoom <span class="token operator">=</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// ä¸Šæ¬¡çš„æ¯”ä¾‹å°ºå·®è·æ¯”è¿™æ¬¡å°ï¼Œç”¨ä¸Šæ¬¡çš„zoomä½œä¸ºæœ€æ¥è¿‘å€¼</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    indexScale <span class="token operator">=</span> indexScale <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> zoom<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="å¤©åœ°å›¾-wmts"><a href="#å¤©åœ°å›¾-wmts" class="header-anchor">#</a> å¤©åœ°å›¾ï¼ˆWMTSï¼‰</h3> <h4 id="å¤©åœ°å›¾åœ°å›¾æœåŠ¡ç®€ä»‹"><a href="#å¤©åœ°å›¾åœ°å›¾æœåŠ¡ç®€ä»‹" class="header-anchor">#</a> å¤©åœ°å›¾åœ°å›¾æœåŠ¡ç®€ä»‹ï¼š</h4> <ul><li><p>å¤©åœ°å›¾åœ°å›¾æœåŠ¡æ”¯æŒ HTTP å’Œ HTTPS åè®®ã€‚</p></li> <li><p>å¤©åœ°å›¾åœ°å›¾æœåŠ¡é‡‡ç”¨ OGC WMTS æ ‡å‡†ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒ OGC WMTS æ ‡å‡† ä¸­ GetCapabilities å’Œ GetTileã€‚</p></li> <li><p>å¤©åœ°å›¾åœ°å›¾æœåŠ¡å¯¹æ‰€æœ‰ç”¨æˆ·å¼€æ”¾ã€‚ä½¿ç”¨æœ¬ç»„æœåŠ¡ä¹‹å‰ï¼Œéœ€è¦ç”³è¯· Keyã€‚</p></li></ul> <p><a href="http://lbs.tianditu.gov.cn/server/MapService.html" target="_blank" rel="noopener noreferrer">å…·ä½“çš„æœåŠ¡åˆ—è¡¨<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="å¤©åœ°å›¾çš„ä½¿ç”¨"><a href="#å¤©åœ°å›¾çš„ä½¿ç”¨" class="header-anchor">#</a> å¤©åœ°å›¾çš„ä½¿ç”¨</h4> <ol><li>è·å–æœåŠ¡å…ƒæ•°æ®</li></ol> <p>é€‰å¥½éœ€è¦ä½¿ç”¨çš„æœåŠ¡ç±»å‹å’Œåæ ‡ç³»ï¼Œä½¿ç”¨ OGC WMTS æ ‡å‡†ä¸­çš„ GetCapabilities æ–¹æ³•è·å–åˆ‡ç‰‡å…ƒæ•°æ®</p> <p><a href="http://t1.tianditu.com/vec_c/wmts?request=GetCapabilities&amp;service=wmts&amp;tk=5d4236a2a06043cd0b0880bbf270c958" target="_blank" rel="noopener noreferrer">WMTS å…ƒæ•°æ®<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol start="2"><li>æå–å…³é”®ä¿¡æ¯</li></ol> <p>æ‰¾åˆ° Contents èŠ‚ç‚¹ä¸‹çš„ Layerã€‚å¦‚å›¾ï¼š</p> <p><img src="/Blog/assets/img/WMTSlayer.b1e25bae.png" alt="image"></p> <p><img src="/Blog/assets/img/TileMatrixSet.d18b5f25.png" alt="image"></p> <p>è¿™é‡Œå¯ä»¥çœ‹åˆ°åˆ‡ç‰‡çš„å…·ä½“ä¿¡æ¯ï¼Œå¦‚å›¾å±‚ï¼Œåˆ‡ç‰‡ç­‰çº§ï¼Œåˆ‡ç‰‡æ¯”ä¾‹å°ºï¼ˆScaleDenominatorï¼‰ï¼Œåˆ‡ç‰‡åŸç‚¹ï¼ˆTopLeftCornerï¼‰ï¼Œåˆ‡ç‰‡å¤§å°ä»¥åŠåˆ‡ç‰‡çŸ©é˜µçš„å®½é«˜ã€‚</p> <p>æˆ‘ä»¬æå–å‡ºå…³é”®ä¿¡æ¯ï¼ŒåŠ è½½å¤©åœ°å›¾</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>WebMapTileServiceImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baseLayers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>url<span class="token punctuation">,</span>

    <span class="token comment">// å›¾å±‚åï¼Œå¯¹åº”layerçš„identify</span>
    layer<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>baseLayers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>layer<span class="token punctuation">,</span>

    <span class="token comment">// å¯¹åº”styleæ ‡ç­¾</span>
    style<span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>

    <span class="token comment">// å¯¹åº”formatæ ‡ç­¾</span>
    format<span class="token operator">:</span> <span class="token string">&quot;tiles&quot;</span><span class="token punctuation">,</span>

    <span class="token comment">// TileMatrixSetçš„identify</span>
    tileMatrixSetID<span class="token operator">:</span> <span class="token string">&quot;w&quot;</span>

    <span class="token comment">// å¯¹åº”TileMatrixçš„identifyï¼Œå¯¹åº”è‹¥ä¸è®¾ç½®ï¼Œé»˜è®¤ä»0å¼€å§‹</span>
    tileMatrixLabels<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// å¹³é“ºæ–¹æ¡ˆï¼Œé»˜è®¤æ˜¯WebMercatorTilingSchemeï¼ˆç”¨äºå¢¨å¡æ‰˜æŠ•å½±ï¼‰</span>
    <span class="token comment">// ç»çº¬åº¦ï¼ˆå›½å®¶2000ï¼‰è¦ä½¿ç”¨GeographicTilingScheme</span>
    tilingScheme<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>GeographicTilingScheme</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// å¯¹åº”ç¬¬ä¸€ä¸ªTileMatrixçš„MatrixWidthå’ŒMatrixHeight</span>
        numberOfLevelZeroTilesX<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        numberOfLevelZeroTilesY<span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>æ³¨æ„ï¼šå¯¹æ¥å…¶ä»–çš„ WMTS æœåŠ¡ï¼Œéœ€ä¿è¯ WMTS çš„æ¯”ä¾‹å°ºæ–¹æ¡ˆä¸ Google Maps æˆ–å¤©åœ°å›¾æ¯”ä¾‹å°ºæ–¹æ¡ˆä¸€è‡´</strong></p> <h3 id="ä¸‰ç»´åˆ‡ç‰‡æœåŠ¡"><a href="#ä¸‰ç»´åˆ‡ç‰‡æœåŠ¡" class="header-anchor">#</a> ä¸‰ç»´åˆ‡ç‰‡æœåŠ¡</h3> <p>è¿™é‡Œçš„ä¸‰ç»´åœ°å›¾ç¼“å­˜æ˜¯æŒ‡åœ¨ Idesktop ä¸­é€šè¿‡å¯¹äºŒç»´åœ°å›¾è¿›è¡Œä¸‰ç»´ç¼“å­˜å¹¶å°†ç¼“å­˜æ·»åŠ åˆ°ä¸‰ç»´åœºæ™¯</p> <p><img src="/Blog/assets/img/sanweihuancun.4ab9db00.png" alt="image"></p> <p>å¹¶åœ¨åœºæ™¯é‡Œæ·»åŠ åˆ°æ™®é€šå›¾å±‚é‡Œ</p> <p><img src="/Blog/assets/img/tianjiasanweihuancun.ad75f104.png" alt="image"></p> <p>æœ€åå‘å¸ƒæˆæœåŠ¡</p> <p>åŠ è½½è¿™ç§ç±»å‹çš„æœåŠ¡ï¼Œç±»ä¼¼å‰é¢çš„åŠ è½½åˆ‡ç‰‡æœåŠ¡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">&quot;http://localhost:8090/iserver/services/3D-mymap/rest/realspace/datas/ä¸–ç•Œåœ°å›¾ä¸‰ç»´ç¼“å­˜&quot;</span>

provider <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>SuperMapImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">url</span><span class="token punctuation">(</span>ä¸‰ç»´æœåŠ¡æ•°æ®é›†<span class="token constant">URL</span> <span class="token operator">+</span> æ•°æ®é›†åç§°<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ImageryLayer</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="åœ°å½¢æœåŠ¡"><a href="#åœ°å½¢æœåŠ¡" class="header-anchor">#</a> åœ°å½¢æœåŠ¡</h3> <p>TerrainProvider åœ°å½¢æä¾›è€…ï¼Œä¸€èˆ¬ä¼šç”¨åˆ°çš„ç±»ï¼š</p> <blockquote><p>EllipsoidTerrainProvider
CesiumTerrainProvider</p></blockquote> <p>EllipsoidTerrainProvider å°±æ˜¯ä¸Šé¢æåˆ°çš„ï¼Œæ ¹æ®åæ ‡ç³»çš„æ¤­çƒå‚æ•°ç”Ÿæˆçš„æ¤­çƒåœ°å½¢ã€‚</p> <h4 id="é…ç½®ä¸€ä¸ªåœ°å½¢æœåŠ¡"><a href="#é…ç½®ä¸€ä¸ªåœ°å½¢æœåŠ¡" class="header-anchor">#</a> é…ç½®ä¸€ä¸ªåœ°å½¢æœåŠ¡</h4> <p>CesiumTerrainProvider æ˜¯ä½¿ç”¨æˆ‘ä»¬è‡ªå·±å‘å¸ƒçš„åœ°å½¢æ•°æ®ï¼ˆDEMï¼‰ä½œä¸ºåœ°çƒè¡¨é¢æ˜¾ç¤ºå‡ºæ¥</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">//åˆ›å»ºåœ°å½¢æœåŠ¡æä¾›è€…çš„å®ä¾‹ï¼Œurlä¸ºSuperMap iServerå‘å¸ƒçš„TINåœ°å½¢æœåŠ¡</span>
  terrainProvider<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CesiumTerrainProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token punctuation">,</span>
    isSct<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//åœ°å½¢æœåŠ¡æºè‡ªSuperMap iServerå‘å¸ƒæ—¶éœ€è®¾ç½®isSctä¸ºtrue</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ä¸‰ç»´æœåŠ¡"><a href="#ä¸‰ç»´æœåŠ¡" class="header-anchor">#</a> ä¸‰ç»´æœåŠ¡</h3> <p>åŠ è½½ä¸‰ç»´æœåŠ¡çš„ä¸‰ç»´åˆ‡ç‰‡ç¼“å­˜å›¾å±‚æ–¹å¼æœ‰ä¸¤ç§ï¼š</p> <p><strong>ç›´æ¥å°†æ•´ä¸ªä¸‰ç»´æœåŠ¡çš„åœºæ™¯æ·»åŠ è¿›åœ°å›¾</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åŠ è½½æ•´ä¸ªä¸‰ç»´æœåŠ¡</span>
<span class="token keyword">let</span> url <span class="token operator">=</span> ä¸‰ç»´æœåŠ¡æ ¹èŠ‚ç‚¹<span class="token constant">URL</span>
<span class="token keyword">let</span> promise <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
Cesium<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>promise<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">layers</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// å¼‚æ­¥åŠ è½½ä¸‰ç»´æœåŠ¡ï¼Œå¯ä»¥è·å–åˆ°ä¸‰ç»´åœºæ™¯é‡Œæ‰€æœ‰å›¾å±‚</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>å¯¹ä¸‰ç»´åœºæ™¯ä¸­æŸä¸ªå›¾å±‚è¿›è¡Œå•ç‹¬åŠ è½½</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å›¾å±‚çš„ä¸‰ç»´æ•°æ®èµ„æºURL</span>
<span class="token keyword">let</span> <span class="token operator">=</span>
  <span class="token string">&quot;http://www.supermapol.com/realspace/services/3D-GuangZhou/rest/realspace/datas/%E5%B1%80%E9%83%A8%E6%95%B0%E6%8D%AE_Model@%E5%B9%BF%E5%B7%9E%E5%B1%80%E9%83%A8%E9%9D%A2&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> scene <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">;</span>
<span class="token keyword">let</span> promise <span class="token operator">=</span> scene<span class="token punctuation">.</span><span class="token function">addS3MTilesLayerByScp</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/config&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> ä¸‰ç»´æ•°æ®é›†åç§°<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">layer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ç›¸æœºé£åˆ°å½“å‰å›¾å±‚</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span><span class="token function">flyTo</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ç©ºé—´å›¾å½¢"><a href="#ç©ºé—´å›¾å½¢" class="header-anchor">#</a> ç©ºé—´å›¾å½¢</h2> <h3 id="cesium-entity-è¦ç´ å®ä½“"><a href="#cesium-entity-è¦ç´ å®ä½“" class="header-anchor">#</a> Cesium.Entity ï¼ˆè¦ç´ å®ä½“ï¼‰</h3> <p>å¸¸ç”¨å‚æ•°ï¼š</p> <table><thead><tr><th>å‚æ•°å</th> <th>Type</th> <th>ç®€ä»‹</th></tr></thead> <tbody><tr><td>id</td> <td>String</td> <td>å¯¹è±¡çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚å¦‚æœæ²¡æœ‰æä¾›ï¼Œåˆ™ç”Ÿæˆ GUID</td></tr> <tr><td>show</td> <td>Boolean</td> <td>æ˜¯å¦æ˜¾ç¤ºå®ä½“å¯¹è±¡åŠå…¶å­é¡¹</td></tr> <tr><td>position</td> <td>PositionProperty</td> <td>å®ä½“çš„ä½ç½®</td></tr> <tr><td>point</td> <td>PointGraphics</td> <td>ç‚¹å¯¹è±¡</td></tr> <tr><td>polygon</td> <td>PolygonGraphics</td> <td>å¤šè¾¹å½¢å¯¹è±¡</td></tr> <tr><td>polyline</td> <td>PolylineGraphics</td> <td>æŠ˜çº¿å¯¹è±¡</td></tr></tbody></table> <h3 id="ç¬¦å·ä¸æ¸²æŸ“"><a href="#ç¬¦å·ä¸æ¸²æŸ“" class="header-anchor">#</a> ç¬¦å·ä¸æ¸²æŸ“</h3> <p>Entity çš„å›¾å½¢ä¸ç¬¦å·ï¼Œå‚æ•°ç¹æ‚ï¼Œå…¶å®ä¸é€‚åˆé€ä¸ªè®²è§£ï¼Œå¹¶ä¸”éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„å‚æ•°å¡«å†™ï¼Œç›´æ¥çœ‹æ–‡æ¡£å’Œæ¡ˆä¾‹ç»“åˆå¾ˆå¿«å°±èƒ½ç†è§£ã€‚</p> <p>è¿™é‡Œç®€å•ä¸¾ä¾‹ç‚¹çº¿é¢å®ä½“çš„ç”Ÿæˆ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç‚¹</span>
<span class="token keyword">let</span> mypoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&quot;point1&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// ç‚¹çš„ä½ç½®ï¼ˆç»çº¬åº¦è½¬ç¬›å¡å°”åæ ‡ï¼‰</span>
  position<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// ç‚¹æ ·å¼</span>
  point<span class="token operator">:</span> <span class="token punctuation">{</span>
    pixelSize<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    color<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">,</span>
    outlineColor<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">,</span>
    outlineWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// çº¿</span>
<span class="token keyword">let</span> myline <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&quot;line1&quot;</span><span class="token punctuation">,</span>
  polyline<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// çº¿çš„åæ ‡ä¸²[x1,y1,x2,y2...]</span>
    positions<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token comment">// æè´¨ï¼ˆçº¯è‰²ï¼‰</span>
    material<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// é¢</span>
<span class="token keyword">let</span> mypolygon <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&quot;polygon1&quot;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&quot;è´´ç€åœ°è¡¨çš„å¤šè¾¹å½¢&quot;</span><span class="token punctuation">,</span>
  polygon<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// é¢åæ ‡ä¸²</span>
    hierarchy<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token operator">-</span><span class="token number">115.0</span><span class="token punctuation">,</span>
      <span class="token number">37.0</span><span class="token punctuation">,</span>
      <span class="token operator">-</span><span class="token number">115.0</span><span class="token punctuation">,</span>
      <span class="token number">32.0</span><span class="token punctuation">,</span>
      <span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span>
      <span class="token number">33.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    material<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">RED</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> greenPolygon <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;ç»¿è‰²æ‹‰ä¼¸å¤šè¾¹å½¢&quot;</span><span class="token punctuation">,</span>
  polygon<span class="token operator">:</span> <span class="token punctuation">{</span>
    hierarchy<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token operator">-</span><span class="token number">108.0</span><span class="token punctuation">,</span>
      <span class="token number">42.0</span><span class="token punctuation">,</span>
      <span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span>
      <span class="token number">42.0</span><span class="token punctuation">,</span>
      <span class="token operator">-</span><span class="token number">104.0</span><span class="token punctuation">,</span>
      <span class="token number">40.0</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å¹³åœ°æ‹‰ä¼¸é«˜åº¦</span>
    extrudedHeight<span class="token operator">:</span> <span class="token number">500000.0</span><span class="token punctuation">,</span>
    material<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">GREEN</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> orangePolygon <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;æ¯ä¸ªé¡¶ç‚¹å…·æœ‰ä¸åŒæ‹‰ä¼¸é«˜åº¦çš„æ©˜è‰²å¤šè¾¹å½¢&quot;</span><span class="token punctuation">,</span>
  polygon<span class="token operator">:</span> <span class="token punctuation">{</span>
    hierarchy<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegreesArrayHeights</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token operator">-</span><span class="token number">108.0</span><span class="token punctuation">,</span>
      <span class="token number">25.0</span><span class="token punctuation">,</span>
      <span class="token number">100000</span><span class="token punctuation">,</span>
      <span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span>
      <span class="token number">25.0</span><span class="token punctuation">,</span>
      <span class="token number">100000</span><span class="token punctuation">,</span>
      <span class="token operator">-</span><span class="token number">100.0</span><span class="token punctuation">,</span>
      <span class="token number">30.0</span><span class="token punctuation">,</span>
      <span class="token number">300000</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// ä½¿ç”¨æ¯ä¸ªä½ç½®çš„è‡ªå·±é«˜åº¦</span>
    perPositionHeight<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    material<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">ORANGE</span><span class="token punctuation">,</span>
    outline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    outlineColor<span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ³¨æ„äº‹é¡¹ï¼šå¤šè¾¹å½¢çš„ outlineWidth å±æ€§åœ¨ Windows ä¸Šçš„ WebGL æ— æ•ˆã€‚</p> <h3 id="primitive"><a href="#primitive" class="header-anchor">#</a> Primitive</h3> <h4 id="primitive-ä»‹ç»"><a href="#primitive-ä»‹ç»" class="header-anchor">#</a> Primitive ä»‹ç»</h4> <p>Primitive ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆ</p> <p>ï¼ˆ1ï¼‰å‡ ä½•å½¢çŠ¶ï¼ˆGeometryï¼‰ï¼šå®šä¹‰äº† Primitive çš„ç»“æ„ï¼Œä¾‹å¦‚ä¸‰è§’å½¢ã€çº¿æ¡ã€ç‚¹ç­‰
ï¼ˆ2ï¼‰å¤–è§‚ï¼ˆAppearance ï¼‰ï¼šå®šä¹‰ Primitive çš„ç€è‰²ï¼ˆShardingï¼‰ï¼ŒåŒ…æ‹¬ GLSLï¼ˆOpenGL ç€è‰²è¯­è¨€ï¼ŒOpenGL ShadingLanguageï¼‰é¡¶ç‚¹ç€è‰²å™¨å’Œç‰‡æ®µç€è‰²å™¨ï¼ˆ vertex and fragment shadersï¼‰ï¼Œä»¥åŠæ¸²æŸ“çŠ¶æ€ï¼ˆrender stateï¼‰</p> <p>ä½¿ç”¨ Geometry å’Œ Appearance å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
ï¼ˆ1ï¼‰æ€§èƒ½ï¼šç»˜åˆ¶å¤§é‡ Primitive æ—¶ï¼Œå¯ä»¥å°†å…¶åˆå¹¶ä¸ºå•ä¸ª Geometry ä»¥å‡è½» CPU è´Ÿæ‹…ã€æ›´å¥½çš„ä½¿ç”¨ GPUã€‚åˆå¹¶ Primitive ç”± web worker çº¿ç¨‹æ‰§è¡Œï¼ŒUI ä¿æŒå“åº”æ€§
ï¼ˆ2ï¼‰çµæ´»æ€§ï¼šGeometry ä¸ Appearance è§£è€¦ï¼Œä¸¤è€…å¯ä»¥åˆ†åˆ«è¿›è¡Œä¿®æ”¹
ï¼ˆ3ï¼‰ä½çº§åˆ«è®¿é—®ï¼šæ˜“äºç¼–å†™ GLSL é¡¶ç‚¹ã€ç‰‡æ®µç€è‰²å™¨ã€ä½¿ç”¨è‡ªå®šä¹‰çš„æ¸²æŸ“çŠ¶æ€
åŒæ—¶ï¼Œå…·æœ‰ä»¥ä¸‹åŠ£åŠ¿ï¼š
ï¼ˆ1ï¼‰éœ€è¦ç¼–å†™æ›´å¤šåœ°ä»£ç 
ï¼ˆ2ï¼‰éœ€è¦å¯¹å›¾å½¢ç¼–ç¨‹æœ‰æ›´å¤šçš„ç†è§£ï¼Œç‰¹åˆ«æ˜¯ OpenGL çš„çŸ¥è¯†</p> <h4 id="primitive-ä¸-entity-çš„åŒºåˆ«"><a href="#primitive-ä¸-entity-çš„åŒºåˆ«" class="header-anchor">#</a> Primitive ä¸ Entity çš„åŒºåˆ«</h4> <p>ï¼ˆ1ï¼‰é¢å‘å›¾å½¢å¼€å‘äººå‘˜çš„åº•å±‚ APIï¼Œé€šå¸¸ç§°ä¸ºâ€œ<strong>Primitive API</strong>â€ã€‚è¯¥ API æš´éœ²æœ€å°é™åº¦çš„æŠ½è±¡ï¼Œä½¿ç”¨å›¾å½¢å­¦æœ¯è¯­ï¼Œå…·æœ‰å¾ˆå¤§çš„çµæ´»æ€§ï¼Œéœ€è¦å…·æœ‰å›¾å½¢å­¦ç¼–ç¨‹çš„çŸ¥è¯†ï¼›</p> <p>ï¼ˆ2ï¼‰é«˜çº§åˆ«çš„æ•°æ®é©±åŠ¨çš„ APIï¼Œç§°ä¸ºâ€œ<strong>Entity API</strong>â€ã€‚è¯¥ API ä½¿ç”¨ä¸€è‡´æ€§è®¾è®¡çš„ã€é«˜çº§åˆ«çš„å¯¹è±¡æ¥ç®¡ç†ä¸€ç»„ç›¸å…³æ€§çš„å¯è§†åŒ–å¯¹è±¡ï¼Œå…¶åº•å±‚ä½¿ç”¨ Primitive APIï¼›</p> <p>ï¼ˆ3ï¼‰entity ç”¨æ³•ç®€å•, primitive ç”¨æ³•å¤æ‚. entity å·²ç»å°è£…çš„å¦‚æ­¤å®Œç¾, è°ƒç”¨å¦‚æ­¤ä¾¿æ·, ä¸ºä»€ä¹ˆè¿˜è¦ primitive æ¥å£å‘¢? åŒºåˆ«å°±åœ¨äºåŠ è½½æ•ˆç‡. primitive æ›´æ¥è¿‘ webgl åº•å±‚, æ²¡æœ‰ entity å„ç§é™„åŠ å±æ€§, å› æ­¤æ•ˆç‡æ›´é«˜.</p> <h3 id="cesium-customdatasource-çŸ¢é‡æ•°æ®æº"><a href="#cesium-customdatasource-çŸ¢é‡æ•°æ®æº" class="header-anchor">#</a> Cesium.CustomDataSource ï¼ˆçŸ¢é‡æ•°æ®æºï¼‰</h3> <p>viewer åˆ° entity çš„å…³ç³»ï¼š</p> <p>Viewer ==&gt; DataSourceCollection ==&gt; CustomDataSource ==&gt; EntityCollection ==&gt; Entity</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> myEntityCollection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>CustomDataSource</span><span class="token punctuation">(</span><span class="token string">&quot;myEntityCollection&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>myEntityCollection<span class="token punctuation">)</span><span class="token punctuation">;</span>
myEntityCollection<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è·å–Entity</span>
<span class="token keyword">let</span> entity <span class="token operator">=</span> myEntityCollection<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token string">&quot;uniqueId&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ç»˜åˆ¶-cesium-drawhandler"><a href="#ç»˜åˆ¶-cesium-drawhandler" class="header-anchor">#</a> ç»˜åˆ¶ Cesium.DrawHandler</h3> <table><thead><tr><th>å‚æ•°å</th> <th>Type</th> <th>ç®€ä»‹</th></tr></thead> <tbody><tr><td>viewer</td> <td>Viewer</td> <td>viewer å¯¹è±¡</td></tr> <tr><td>mode</td> <td>DrawMode</td> <td>ç»˜åˆ¶æ¨¡å¼ï¼ŒåŒ…å«ç‚¹ã€çº¿ã€é¢</td></tr> <tr><td>clampMode</td> <td>ClampMode</td> <td>ç»˜åˆ¶é£æ ¼ï¼ŒåŒ…å«ç©ºé—´ã€è´´åœ°ã€è´´å¯¹è±¡</td></tr></tbody></table> <h4 id="ç»‘å®šäº‹ä»¶"><a href="#ç»‘å®šäº‹ä»¶" class="header-anchor">#</a> ç»‘å®šäº‹ä»¶</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> handlerPolygon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>DrawHandler</span><span class="token punctuation">(</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">,</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>drawmode<span class="token punctuation">,</span>
  Cesium<span class="token punctuation">.</span>ClampMode<span class="token punctuation">.</span>Ground
<span class="token punctuation">)</span><span class="token punctuation">;</span>

handlerPolygon<span class="token punctuation">.</span>activeEvt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isActive <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>enableCursorStyle <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>_element<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cursor <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>enableCursorStyle <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

handlerPolygon<span class="token punctuation">.</span>movingEvt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">windowPosition</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>handlerPolygon<span class="token punctuation">.</span>isDrawing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span><span class="token function">showAt</span><span class="token punctuation">(</span>
      windowPosition<span class="token punctuation">,</span>
      <span class="token string">&quot;&lt;p&gt;ç‚¹å‡»ç¡®å®šå¤šè¾¹å½¢ä¸­é—´ç‚¹&lt;/p&gt;&lt;p&gt;å³é”®å•å‡»ç»“æŸç»˜åˆ¶&lt;/p&gt;&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tooltip<span class="token punctuation">.</span><span class="token function">showAt</span><span class="token punctuation">(</span>windowPosition<span class="token punctuation">,</span> <span class="token string">&quot;&lt;p&gt;ç‚¹å‡»ç»˜åˆ¶ç¬¬ä¸€ä¸ªç‚¹&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

handlerPolygon<span class="token punctuation">.</span>drawEvt<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Entity</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">&quot;draeEntity&quot;</span><span class="token punctuation">,</span>
      polygon<span class="token operator">:</span> result<span class="token punctuation">.</span>object<span class="token punctuation">.</span>polygon<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="header-anchor">#</a> äº‹ä»¶</h2> <p>ç›‘å¬ç”¨æˆ·ä¸åœ°å›¾çš„äº¤äº’äº‹ä»¶ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> handlerClick <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>ScreenSpaceEventHandler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>

handlerClick<span class="token punctuation">.</span><span class="token function">setInputAction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> earthPosition <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>camera<span class="token punctuation">.</span><span class="token function">pickEllipsoid</span><span class="token punctuation">(</span>
    event<span class="token punctuation">.</span>position<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>globe<span class="token punctuation">.</span>ellipsoid
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>earthPosition<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

handlerClick<span class="token punctuation">.</span><span class="token function">removeInputAction</span><span class="token punctuation">(</span>Cesium<span class="token punctuation">.</span>ScreenSpaceEventType<span class="token punctuation">.</span><span class="token constant">LEFT_CLICK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç›‘å¬ç”¨æˆ·ä¸ä¸‰ç»´æ¨¡å‹äº¤äº’ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>S3MTilesLayer<span class="token punctuation">.</span><span class="token function">setQueryParameter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span><span class="token string">&quot;ä¸‰ç»´æ•°æ®å¯¹åº”çš„æ•°æ®æœåŠ¡&quot;</span><span class="token punctuation">,</span>
  dataSourceName<span class="token operator">:</span> <span class="token string">&quot;æ•°æ®æºåç§°&quot;</span><span class="token punctuation">,</span>
  dataSetName<span class="token operator">:</span> <span class="token string">&quot;æ•°æ®é›†åç§°&quot;</span>
  isMerge<span class="token operator">:</span> <span class="token string">&quot;è¯¥å›¾å±‚æ˜¯å¦ä¸ºåˆå¹¶æ•°æ®é›†çš„ï¼Œå¦‚æœæ˜¯åˆ™ä¸ç”¨æŒ‡å®šæ•°æ®é›†åç§°&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

viewer<span class="token punctuation">.</span>pickEvent<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//ç§»é™¤ç‚¹å‡»äº‹ä»¶</span>
viewer<span class="token punctuation">.</span>pickEvent<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/29/2023, 2:39:52 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Blog/dailyRecord/gis/GISsystem.html" class="prev">
        GIS ä½“ç³»ä»‹ç»
      </a></span> <span class="next"><a href="/Blog/dailyRecord/gis/SuperMap3DStudy.html">
        ä¸‰ç»´ WebGIS å­¦ä¹ ç¬”è®°
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.d6f4b6a2.js" defer></script><script src="/Blog/assets/js/2.fd75a44f.js" defer></script><script src="/Blog/assets/js/7.7a16dec8.js" defer></script>
  </body>
</html>
