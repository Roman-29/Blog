<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>è·¨åŸŸ | Roman&#39;s Notebook</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Blog/images/logo.png">
    <meta name="description" content="ğŸ“æ¯å¤©è®°å½•ä¸€ç‚¹ç‚¹">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.97ce9fae.css" as="style"><link rel="preload" href="/Blog/assets/js/app.d6f4b6a2.js" as="script"><link rel="preload" href="/Blog/assets/js/2.fd75a44f.js" as="script"><link rel="preload" href="/Blog/assets/js/8.10f0167f.js" as="script"><link rel="preload" href="/Blog/assets/js/16.090affc6.js" as="script"><link rel="prefetch" href="/Blog/assets/js/10.ef8ad2af.js"><link rel="prefetch" href="/Blog/assets/js/11.6c4cb71a.js"><link rel="prefetch" href="/Blog/assets/js/12.bf292e9a.js"><link rel="prefetch" href="/Blog/assets/js/13.27d3af28.js"><link rel="prefetch" href="/Blog/assets/js/14.c90a7c8e.js"><link rel="prefetch" href="/Blog/assets/js/15.d1fb7a7e.js"><link rel="prefetch" href="/Blog/assets/js/17.4e5df8a3.js"><link rel="prefetch" href="/Blog/assets/js/18.db68a2d0.js"><link rel="prefetch" href="/Blog/assets/js/19.78ffae18.js"><link rel="prefetch" href="/Blog/assets/js/20.326bfd19.js"><link rel="prefetch" href="/Blog/assets/js/21.4bc7c7af.js"><link rel="prefetch" href="/Blog/assets/js/22.d5f7595c.js"><link rel="prefetch" href="/Blog/assets/js/23.e48ece5c.js"><link rel="prefetch" href="/Blog/assets/js/24.4c1ca19a.js"><link rel="prefetch" href="/Blog/assets/js/25.97fa940f.js"><link rel="prefetch" href="/Blog/assets/js/26.acb8e14e.js"><link rel="prefetch" href="/Blog/assets/js/27.4233a341.js"><link rel="prefetch" href="/Blog/assets/js/28.a2ff22a3.js"><link rel="prefetch" href="/Blog/assets/js/29.6016abd9.js"><link rel="prefetch" href="/Blog/assets/js/3.c01d88b2.js"><link rel="prefetch" href="/Blog/assets/js/30.61781442.js"><link rel="prefetch" href="/Blog/assets/js/31.c4b84ed1.js"><link rel="prefetch" href="/Blog/assets/js/32.e426325a.js"><link rel="prefetch" href="/Blog/assets/js/33.90e060c3.js"><link rel="prefetch" href="/Blog/assets/js/34.7059796b.js"><link rel="prefetch" href="/Blog/assets/js/35.53956048.js"><link rel="prefetch" href="/Blog/assets/js/36.b2e386ad.js"><link rel="prefetch" href="/Blog/assets/js/37.8918b02a.js"><link rel="prefetch" href="/Blog/assets/js/38.16fe91ea.js"><link rel="prefetch" href="/Blog/assets/js/39.1a8073b2.js"><link rel="prefetch" href="/Blog/assets/js/4.accf9f2c.js"><link rel="prefetch" href="/Blog/assets/js/40.3383d598.js"><link rel="prefetch" href="/Blog/assets/js/41.85fae2a9.js"><link rel="prefetch" href="/Blog/assets/js/42.0404369c.js"><link rel="prefetch" href="/Blog/assets/js/43.bde5e9e5.js"><link rel="prefetch" href="/Blog/assets/js/44.babab1d1.js"><link rel="prefetch" href="/Blog/assets/js/45.3fa179d9.js"><link rel="prefetch" href="/Blog/assets/js/46.b3b4f85b.js"><link rel="prefetch" href="/Blog/assets/js/47.6759b2e2.js"><link rel="prefetch" href="/Blog/assets/js/48.64cdfd94.js"><link rel="prefetch" href="/Blog/assets/js/49.d58826b4.js"><link rel="prefetch" href="/Blog/assets/js/5.422be1ef.js"><link rel="prefetch" href="/Blog/assets/js/6.12713950.js"><link rel="prefetch" href="/Blog/assets/js/7.7a16dec8.js"><link rel="prefetch" href="/Blog/assets/js/9.e1456e0e.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.97ce9fae.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">Roman's Notebook</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/dailyRecord/" class="nav-link router-link-active">
  ğŸ“šå­¦ä¹ æ€»ç»“
</a></div><div class="nav-item"><a href="/Blog/bookmark/" class="nav-link">
  ğŸ“Œä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Blog/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Roman-29" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/dailyRecord/" class="nav-link router-link-active">
  ğŸ“šå­¦ä¹ æ€»ç»“
</a></div><div class="nav-item"><a href="/Blog/bookmark/" class="nav-link">
  ğŸ“Œä¹¦ç­¾æ•´ç†
</a></div><div class="nav-item"><a href="/Blog/lint/" class="nav-link">
  âœ”ï¸ç¼–ç è§„èŒƒ&amp;ååŒå¼€å‘
</a></div><div class="nav-item"><a href="http://shooterblog.site/Learn-JS-Demo/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/index.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ“–çŸ¥è¯†è„‘å›¾
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/Roman-29" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ğŸ”—Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue3æºç </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å•å…ƒæµ‹è¯•</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GIS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯æ¨¡å—åŒ–å’Œæ‰“åŒ…å·¥å…·</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>å†…åŠŸä¿®ç‚¼</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Blog/dailyRecord/base/HTTP.html" class="sidebar-link">HTTP è¯·æ±‚ä¸å“åº”</a></li><li><a href="/Blog/dailyRecord/base/CrossDomain.html" aria-current="page" class="active sidebar-link">è·¨åŸŸ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#ä»€ä¹ˆæ˜¯å‰ç«¯è·¨åŸŸä»¥åŠä½œç”¨" class="sidebar-link">ä»€ä¹ˆæ˜¯å‰ç«¯è·¨åŸŸä»¥åŠä½œç”¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#æµè§ˆå™¨çš„åŒæºç­–ç•¥" class="sidebar-link">æµè§ˆå™¨çš„åŒæºç­–ç•¥</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#åŒæºçš„å®šä¹‰" class="sidebar-link">åŒæºçš„å®šä¹‰</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„ä¸¤å¤§å±é™©åœºæ™¯" class="sidebar-link">æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„ä¸¤å¤§å±é™©åœºæ™¯</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#åŒæºç­–ç•¥é™åˆ¶ä¸‹æ¥å£è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼" class="sidebar-link">åŒæºç­–ç•¥é™åˆ¶ä¸‹æ¥å£è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_1-jsonp" class="sidebar-link">1.JSONP</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_2-ç©º-iframe-åŠ -form" class="sidebar-link">2.ç©º iframe åŠ  form</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_3-cors" class="sidebar-link">3.CORS</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_4-ä»£ç†" class="sidebar-link">4.ä»£ç†</a></li></ul></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#åŒæºç­–ç•¥é™åˆ¶ä¸‹-dom-æŸ¥è¯¢çš„æ­£ç¡®æ‰“å¼€æ–¹å¼" class="sidebar-link">åŒæºç­–ç•¥é™åˆ¶ä¸‹ Dom æŸ¥è¯¢çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_1-postmessage" class="sidebar-link">1.postMessage</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_2-document-domain" class="sidebar-link">2.document.domain</a></li><li class="sidebar-sub-header"><a href="/Blog/dailyRecord/base/CrossDomain.html#_3-canvas-æ“ä½œå›¾ç‰‡çš„è·¨åŸŸé—®é¢˜" class="sidebar-link">3.canvas æ“ä½œå›¾ç‰‡çš„è·¨åŸŸé—®é¢˜</a></li></ul></li></ul></li><li><a href="/Blog/dailyRecord/base/Nginx.html" class="sidebar-link">Nginx å…¥é—¨</a></li><li><a href="/Blog/dailyRecord/base/this.html" class="sidebar-link">thisæŒ‡å‘é—®é¢˜</a></li><li><a href="/Blog/dailyRecord/base/TypeScript.html" class="sidebar-link">TypeScript</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å‰ç«¯å¼‚å¸¸ç›‘æ§</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ€»ç»“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å…¶ä»–</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="header-anchor">#</a> è·¨åŸŸ</h1> <h2 id="ä»€ä¹ˆæ˜¯å‰ç«¯è·¨åŸŸä»¥åŠä½œç”¨"><a href="#ä»€ä¹ˆæ˜¯å‰ç«¯è·¨åŸŸä»¥åŠä½œç”¨" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯å‰ç«¯è·¨åŸŸä»¥åŠä½œç”¨</h2> <h3 id="æµè§ˆå™¨çš„åŒæºç­–ç•¥"><a href="#æµè§ˆå™¨çš„åŒæºç­–ç•¥" class="header-anchor">#</a> æµè§ˆå™¨çš„åŒæºç­–ç•¥</h3> <p>åŒæºç­–ç•¥é™åˆ¶äº†ä»åŒä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„é‡è¦å®‰å…¨æœºåˆ¶ã€‚</p> <h3 id="åŒæºçš„å®šä¹‰"><a href="#åŒæºçš„å®šä¹‰" class="header-anchor">#</a> åŒæºçš„å®šä¹‰</h3> <p>å¦‚æœä¸¤ä¸ªé¡µé¢çš„åè®®ï¼Œç«¯å£ï¼ˆå¦‚æœæœ‰æŒ‡å®šï¼‰å’Œä¸»æœºéƒ½ç›¸åŒï¼Œåˆ™ä¸¤ä¸ªé¡µé¢å…·æœ‰ç›¸åŒçš„æºã€‚
ä¸‹è¡¨ç»™å‡ºäº†ç›¸å¯¹http://store.company.com/dir/page.htmlåŒæºæ£€æµ‹çš„ç¤ºä¾‹:</p> <table><thead><tr><th>URL</th> <th>ç»“æœ</th> <th>åŸå› </th></tr></thead> <tbody><tr><td>http://store.company.com/dir2/other.html</td> <td>æˆåŠŸ</td> <td>åªæœ‰è·¯å¾„ä¸åŒ</td></tr> <tr><td>http://store.company.com/dir/inner/another.html</td> <td>æˆåŠŸ</td> <td>åªæœ‰è·¯å¾„ä¸åŒ</td></tr> <tr><td>https://store.company.com/secure.html</td> <td>å¤±è´¥</td> <td>ä¸åŒåè®® ( https å’Œ http )</td></tr> <tr><td>http://store.company.com:81/dir/etc.html</td> <td>å¤±è´¥</td> <td>ä¸åŒç«¯å£ ( http:// 80 æ˜¯é»˜è®¤çš„)</td></tr> <tr><td>http://news.company.com/dir/other.html</td> <td>å¤±è´¥</td> <td>ä¸åŒåŸŸå ( news å’Œ store )</td></tr></tbody></table> <h3 id="æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„ä¸¤å¤§å±é™©åœºæ™¯"><a href="#æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„ä¸¤å¤§å±é™©åœºæ™¯" class="header-anchor">#</a> æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„ä¸¤å¤§å±é™©åœºæ™¯</h3> <p><strong>æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„æ¥å£è¯·æ±‚</strong></p> <p>æœ‰ä¸€ä¸ªå°å°çš„ä¸œè¥¿å« cookie å¤§å®¶åº”è¯¥çŸ¥é“ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†ç™»å½•ç­‰åœºæ™¯ï¼Œç›®çš„æ˜¯è®©æœåŠ¡ç«¯çŸ¥é“è°å‘å‡ºçš„è¿™æ¬¡è¯·æ±‚ã€‚å¦‚æœä½ è¯·æ±‚äº†æ¥å£è¿›è¡Œç™»å½•ï¼ŒæœåŠ¡ç«¯éªŒè¯é€šè¿‡åä¼šåœ¨å“åº”å¤´åŠ å…¥ Set-Cookie å­—æ®µï¼Œç„¶åä¸‹æ¬¡å†å‘è¯·æ±‚çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°† cookie é™„åŠ åœ¨ HTTP è¯·æ±‚çš„å¤´å­—æ®µ Cookie ä¸­ï¼ŒæœåŠ¡ç«¯å°±èƒ½çŸ¥é“è¿™ä¸ªç”¨æˆ·å·²ç»ç™»å½•è¿‡äº†ã€‚çŸ¥é“è¿™ä¸ªä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹åœºæ™¯ï¼š</p> <p>1.ä½ å‡†å¤‡å»æ¸…ç©ºä½ çš„è´­ç‰©è½¦ï¼Œäºæ˜¯æ‰“å¼€äº†ä¹°ä¹°ä¹°ç½‘ç«™ www.maimaimai.comï¼Œç„¶åç™»å½•æˆåŠŸï¼Œä¸€çœ‹ï¼Œè´­ç‰©è½¦ä¸œè¥¿è¿™ä¹ˆå°‘ï¼Œä¸è¡Œï¼Œè¿˜å¾—ä¹°å¤šç‚¹ã€‚</p> <p>2.ä½ åœ¨çœ‹æœ‰ä»€ä¹ˆä¸œè¥¿ä¹°çš„è¿‡ç¨‹ä¸­ï¼Œä½ çš„å¥½åŸºå‹å‘ç»™ä½ ä¸€ä¸ªé“¾æ¥ www.nidongde.comï¼Œä¸€è„¸ yin ç¬‘åœ°è·Ÿä½ è¯´ï¼šâ€œä½ æ‡‚çš„â€ï¼Œä½ æ¯«ä¸çŠ¹è±«æ‰“å¼€äº†ã€‚</p> <p>3.ä½ é¥¶æœ‰å…´è‡´åœ°æµè§ˆç€ www.nidongde.comï¼Œè°çŸ¥è¿™ä¸ªç½‘ç«™æš—åœ°é‡Œåšäº†äº›ä¸å¯æè¿°çš„äº‹æƒ…ï¼ç”±äºæ²¡æœ‰åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œå®ƒå‘ www.maimaimai.com å‘èµ·äº†è¯·æ±‚ï¼èªæ˜çš„ä½ ä¸€å®šæƒ³åˆ°ä¸Šé¢çš„è¯â€œæœåŠ¡ç«¯éªŒè¯é€šè¿‡åä¼šåœ¨å“åº”å¤´åŠ å…¥ Set-Cookie å­—æ®µï¼Œç„¶åä¸‹æ¬¡å†å‘è¯·æ±‚çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°† cookie é™„åŠ åœ¨ HTTP è¯·æ±‚çš„å¤´å­—æ®µ Cookie ä¸­â€ï¼Œè¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªä¸æ³•ç½‘ç«™å°±ç›¸å½“äºç™»å½•äº†ä½ çš„è´¦å·ï¼Œå¯ä»¥ä¸ºæ‰€æ¬²ä¸ºäº†ï¼å¦‚æœè¿™ä¸æ˜¯ä¸€ä¸ªä¹°ä¹°ä¹°è´¦å·ï¼Œè€Œæ˜¯ä½ çš„é“¶è¡Œè´¦å·ï¼Œé‚£â€¦â€¦</p> <p>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„ CSRF æ”»å‡»ï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰ã€‚</p> <p><strong>æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„ Dom æŸ¥è¯¢</strong></p> <p>1.æœ‰ä¸€å¤©ä½ åˆšç¡é†’ï¼Œæ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œè¯´æ˜¯ä½ çš„é“¶è¡Œè´¦å·æœ‰é£é™©ï¼Œèµ¶ç´§ç‚¹è¿› www.yinghang.com æ”¹å¯†ç ã€‚ä½ å“å°¿äº†ï¼Œèµ¶ç´§ç‚¹è¿›å»ï¼Œè¿˜æ˜¯ç†Ÿæ‚‰çš„é“¶è¡Œç™»å½•ç•Œé¢ï¼Œä½ æœæ–­è¾“å…¥ä½ çš„è´¦å·å¯†ç ï¼Œç™»å½•è¿›å»çœ‹çœ‹é’±æœ‰æ²¡æœ‰å°‘äº†ã€‚</p> <p>2.ç¡çœ¼æœ¦èƒ§çš„ä½ æ²¡çœ‹æ¸…æ¥šï¼Œå¹³æ—¶è®¿é—®çš„é“¶è¡Œç½‘ç«™æ˜¯ www.yinhang.com è€Œç°åœ¨è®¿é—®çš„æ˜¯ www.yinghang.com ï¼Œè¿™ä¸ªé’“é±¼ç½‘ç«™åšäº†ä»€ä¹ˆå‘¢ï¼Ÿ</p> <div class="language- extra-class"><pre class="language-text"><code>// HTML
&lt;iframe name=&quot;yinhang&quot; src=&quot;www.yinhang.com&quot;&gt;&lt;/iframe&gt;
// JS
// ç”±äºæ²¡æœ‰åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œé’“é±¼ç½‘ç«™å¯ä»¥ç›´æ¥æ‹¿åˆ°åˆ«çš„ç½‘ç«™çš„Dom
const iframe = window.frames['yinhang']
const node = iframe.document.getElementById('ä½ è¾“å…¥è´¦å·å¯†ç çš„Input')
console.log(`æ‹¿åˆ°äº†è¿™ä¸ª${node}ï¼Œæˆ‘è¿˜æ‹¿ä¸åˆ°ä½ åˆšåˆšè¾“å…¥çš„è´¦å·å¯†ç å—`)
</code></pre></div><p>ç”±æ­¤æˆ‘ä»¬çŸ¥é“ï¼ŒåŒæºç­–ç•¥ç¡®å®èƒ½è§„é¿ä¸€äº›å±é™©ï¼Œä¸æ˜¯è¯´æœ‰äº†åŒæºç­–ç•¥å°±å®‰å…¨ï¼Œåªæ˜¯è¯´åŒæºç­–ç•¥æ˜¯ä¸€ç§æµè§ˆå™¨æœ€åŸºæœ¬çš„å®‰å…¨æœºåˆ¶ï¼Œæ¯•ç«Ÿèƒ½æé«˜ä¸€ç‚¹æ”»å‡»çš„æˆæœ¬ã€‚å…¶å®æ²¡æœ‰åˆºä¸ç©¿çš„ç›¾ï¼Œåªæ˜¯æ”»å‡»çš„æˆæœ¬å’Œæ”»å‡»æˆåŠŸåè·å¾—çš„åˆ©ç›Šæˆä¸æˆæ­£æ¯”ã€‚</p> <h2 id="åŒæºç­–ç•¥é™åˆ¶ä¸‹æ¥å£è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼"><a href="#åŒæºç­–ç•¥é™åˆ¶ä¸‹æ¥å£è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼" class="header-anchor">#</a> åŒæºç­–ç•¥é™åˆ¶ä¸‹æ¥å£è¯·æ±‚çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</h2> <h3 id="_1-jsonp"><a href="#_1-jsonp" class="header-anchor">#</a> 1.JSONP</h3> <p>åœ¨ HTML æ ‡ç­¾é‡Œï¼Œä¸€äº›æ ‡ç­¾æ¯”å¦‚ scriptã€img è¿™æ ·çš„è·å–èµ„æºçš„æ ‡ç­¾æ˜¯æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„ï¼Œåˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ jsonpã€‚
jsonp çš„åŸç†ï¼šé€šè¿‡ script æ ‡ç­¾å¼•å…¥ä¸€ä¸ª js æ–‡ä»¶ï¼Œè¿™ä¸ª js æ–‡ä»¶è½½å…¥æˆåŠŸåä¼šæ‰§è¡Œæˆ‘ä»¬åœ¨ url å‚æ•°ä¸­æŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶ä¸”ä¼šæŠŠæˆ‘ä»¬éœ€è¦çš„ json æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæœ‰ç§å›è°ƒçš„å‘³é“ï¼</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// åç«¯è¿”å›ç›´æ¥æ‰§è¡Œçš„æ–¹æ³•ï¼Œç›¸å½“äºæ‰§è¡Œè¿™ä¸ªæ–¹æ³•ï¼Œç”±äºåç«¯æŠŠè¿”å›çš„æ•°æ®æ”¾åœ¨æ–¹æ³•çš„å‚æ•°é‡Œï¼Œæ‰€ä»¥è¿™é‡Œèƒ½æ‹¿åˆ°resã€‚</span>
      window<span class="token punctuation">.</span><span class="token function-variable function">jsonpCb</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:9871/api/jsonp?msg=helloJsonp&amp;callback=jsonpCb<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ç®€å•å°è£…ä¸€ä¸‹å‰ç«¯è¿™ä¸ªå¥—è·¯</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/**
 * JSONPè¯·æ±‚å·¥å…·
 * @param url è¯·æ±‚çš„åœ°å€
 * @param data è¯·æ±‚çš„å‚æ•°
 * @returns {Promise&lt;any&gt;}
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">request</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> url<span class="token punctuation">,</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¤„ç†ä¼ å‚æˆxx=yy&amp;aa=bbçš„å½¢å¼</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> keysLen <span class="token operator">=</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> value <span class="token operator">=</span> data<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> flag <span class="token operator">=</span> index <span class="token operator">!==</span> keysLen <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pre<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cur<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>flag<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// åŠ¨æ€åˆ›å»ºscriptæ ‡ç­¾</span>
    <span class="token keyword">const</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ¥å£è¿”å›çš„æ•°æ®è·å–</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">jsonpCb</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">delete</span> window<span class="token punctuation">.</span>jsonpCb<span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">handleData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;cb=jsonpCb</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ä½¿ç”¨æ–¹å¼</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&quot;http://localhost:9871/api/jsonp&quot;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼ å‚</span>
    msg<span class="token operator">:</span> <span class="token string">&quot;helloJsonp&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>JSONP çš„ä¼˜ç¼ºç‚¹
ä¼˜ç‚¹ï¼šå®ƒä¸åƒ XMLHttpRequest å¯¹è±¡å®ç°çš„ Ajax è¯·æ±‚é‚£æ ·å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ï¼›å®ƒçš„å…¼å®¹æ€§æ›´å¥½ï¼Œåœ¨æ›´åŠ å¤è€çš„æµè§ˆå™¨ä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œä¸éœ€è¦ XMLHttpRequest æˆ– ActiveX çš„æ”¯æŒï¼›å¹¶ä¸”åœ¨è¯·æ±‚å®Œæ¯•åå¯ä»¥é€šè¿‡è°ƒç”¨ callback çš„æ–¹å¼å›ä¼ ç»“æœã€‚</p> <p>ç¼ºç‚¹ï¼šå®ƒåªæ”¯æŒ GET è¯·æ±‚è€Œä¸æ”¯æŒ POST ç­‰å…¶å®ƒç±»å‹çš„ HTTP è¯·æ±‚ï¼›å®ƒåªæ”¯æŒè·¨åŸŸ HTTP è¯·æ±‚è¿™ç§æƒ…å†µï¼Œä¸èƒ½è§£å†³ä¸åŒåŸŸçš„ä¸¤ä¸ªé¡µé¢ä¹‹é—´å¦‚ä½•è¿›è¡Œ JavaScript è°ƒç”¨çš„é—®é¢˜ã€‚</p> <h3 id="_2-ç©º-iframe-åŠ -form"><a href="#_2-ç©º-iframe-åŠ -form" class="header-anchor">#</a> 2.ç©º iframe åŠ  form</h3> <p>iframe å¯ä»¥å‘ POST è¯·æ±‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">requestPost</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> url<span class="token punctuation">,</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// é¦–å…ˆåˆ›å»ºä¸€ä¸ªç”¨æ¥å‘é€æ•°æ®çš„iframe.</span>
  <span class="token keyword">const</span> iframe <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;iframe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  iframe<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;iframePost&quot;</span><span class="token punctuation">;</span>
  iframe<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>iframe<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;form&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ³¨å†Œiframeçš„loadäº‹ä»¶å¤„ç†ç¨‹åº,å¦‚æœä½ éœ€è¦åœ¨å“åº”è¿”å›æ—¶æ‰§è¡Œä¸€äº›æ“ä½œçš„è¯.</span>
  iframe<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;post success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  form<span class="token punctuation">.</span>action <span class="token operator">=</span> url<span class="token punctuation">;</span>
  <span class="token comment">// åœ¨æŒ‡å®šçš„iframeä¸­æ‰§è¡Œform</span>
  form<span class="token punctuation">.</span>target <span class="token operator">=</span> iframe<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  form<span class="token punctuation">.</span>method <span class="token operator">=</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    node<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    node<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    form<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è¡¨å•å…ƒç´ éœ€è¦æ·»åŠ åˆ°ä¸»æ–‡æ¡£ä¸­.</span>
  form<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
  form<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// è¡¨å•æäº¤å,å°±å¯ä»¥åˆ é™¤è¿™ä¸ªè¡¨å•,ä¸å½±å“ä¸‹æ¬¡çš„æ•°æ®å‘é€.</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// ä½¿ç”¨æ–¹å¼</span>
<span class="token function">requestPost</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&quot;http://localhost:9871/api/iframePost&quot;</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    msg<span class="token operator">:</span> <span class="token string">&quot;helloIframePost&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-cors"><a href="#_3-cors" class="header-anchor">#</a> 3.CORS</h3> <p>CORS æ˜¯ä¸€ä¸ª W3C æ ‡å‡†ï¼Œå…¨ç§°æ˜¯&quot;è·¨åŸŸèµ„æºå…±äº«&quot;ï¼ˆCross-origin resource sharing)ã€‚CORS æœ‰ä¸¤ç§è¯·æ±‚ï¼Œç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ï¼š
åªè¦åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤å¤§æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ã€‚</p> <p>(1) è¯·æ±‚æ–¹æ³•æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ä¹‹ä¸€ï¼š</p> <ul><li>HEAD</li> <li>GET</li> <li>POST</li></ul> <p>(2)HTTP çš„å¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µï¼š</p> <ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Last-Event-ID</li> <li>Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼ application/x-www-form-urlencodedã€multipart/form-dataã€text/plain</li></ul> <p><strong>ç®€å•è¯·æ±‚:</strong></p> <p>å‰ç«¯ä»€ä¹ˆä¹Ÿä¸ç”¨å¹²ï¼Œå°±æ˜¯æ­£å¸¸å‘è¯·æ±‚å°±å¯ä»¥,å¤§éƒ¨åˆ†è¿˜æ˜¯åç«¯äººå‘˜çš„å·¥ä½œã€‚</p> <p>æµè§ˆå™¨ï¼šè¯¶ï¼Œä½ å°å­è¦è·¨åŸŸæ˜¯å§ï¼Œæˆ‘å¾—é—®é—®æœåŠ¡å™¨å¤§å“¥è‚¯ä¸è‚¯ï¼å¾€è¯·æ±‚å¤´æ·»åŠ  origin äº®ä¸€ä¸‹ç‰Œé¢ã€‚</p> <p><img src="/Blog/assets/img/requestHeader.fda105d6.png" alt="image"></p> <p>æœåŠ¡å™¨ï¼šè¯¶ï¼Œä½ æ˜¯è°ï¼Œæˆ‘æ¥çœ‹çœ‹ä½ çš„ originï¼Œå—¯å—¯ï¼Œå¯ä»¥ï¼Œç¬¦åˆæˆ‘çš„è¦æ±‚ï¼Œæ”¾è¡Œï¼é¡ºä¾¿å‘Šè¯‰ä½ ï¼Œè€å¤«çš„è§„çŸ©ï¼</p> <p><img src="/Blog/assets/img/responseHeader.3e499975.png" alt="image"></p> <p><code>Access-Control-Allow-Origin</code>æœ‰å¤šç§è®¾ç½®æ–¹æ³•ï¼š</p> <ul><li>è®¾ç½®&quot;*&quot;æ˜¯æœ€ç®€å•ç²—æš´çš„ï¼Œä½†æ˜¯æœåŠ¡å™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè‚¯å®šä¸ä¼šè¿™ä¹ˆå¹²ï¼Œè€Œä¸”ï¼Œå¦‚æœæ˜¯&quot;*&quot;çš„è¯ï¼Œæ¸¸è§ˆå™¨å°†ä¸ä¼šå‘é€ cookies.å³ä½¿ä½ çš„ XHR è®¾ç½®äº† withCredentialsã€‚æŠ¥é”™ä¿¡æ¯å¦‚å›¾ï¼š</li></ul> <p><img src="/Blog/assets/img/Access-Control-Allow-Origin.c3dcd6d2.png" alt="image"></p> <ul><li>æŒ‡å®šåŸŸï¼Œå¦‚ä¸Šå›¾ä¸­çš„http://172.20.0.206</li></ul> <p><code>withCredentials</code>ï¼šè¡¨ç¤º XHR æ˜¯å¦æ¥æ”¶ cookies å’Œå‘é€ cookiesï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœè¯¥å€¼æ˜¯ falseï¼Œå“åº”å¤´çš„<code>Set-Cookie</code>ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šç†ï¼Œå¹¶ä¸”å³ä½¿æœ‰ç›®æ ‡ç«™ç‚¹çš„ cookiesï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šå‘é€ã€‚</p> <p><strong>å¤æ‚è¯·æ±‚:</strong></p> <p>æœ€å¸¸è§çš„æƒ…å†µï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ put å’Œ delete è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå…ˆå‘é€ optionï¼ˆé¢„æ£€ï¼‰è¯·æ±‚ï¼Œä¸è¿‡æœ‰æ—¶å€™ï¼Œä½ ä¼šå‘ç°å¹¶æ²¡æœ‰ï¼Œè¿™æ˜¯åé¢ä¼šè®²åˆ°ç¼“å­˜ã€‚
éç®€å•è¯·æ±‚ä¼šå‘å‡ºä¸€æ¬¡é¢„æ£€æµ‹è¯·æ±‚ï¼Œè¿”å›ç æ˜¯ 204ï¼Œé¢„æ£€æµ‹é€šè¿‡æ‰ä¼šçœŸæ­£å‘å‡ºè¯·æ±‚ï¼Œè¿™æ‰è¿”å› 200ã€‚</p> <p>ä¸ç®€å•è¯·æ±‚ä¸åŒçš„æ˜¯ï¼Œoption è¯·æ±‚å¤šäº† 2 ä¸ªå­—æ®µï¼š
<code>Access-Control-Request-Method</code>ï¼šè¯¥æ¬¡è¯·æ±‚çš„è¯·æ±‚æ–¹å¼
<code>Access-Control-Request-Headers</code>ï¼šè¯¥æ¬¡è¯·æ±‚çš„è‡ªå®šä¹‰è¯·æ±‚å¤´å­—æ®µ</p> <div class="language- extra-class"><pre class="language-text"><code>//æŒ‡å®šå…è®¸å…¶ä»–åŸŸåè®¿é—®
'Access-Control-Allow-Origin:http://172.20.0.206'//ä¸€èˆ¬ç”¨æ³•ï¼ˆ*ï¼ŒæŒ‡å®šåŸŸï¼ŒåŠ¨æ€è®¾ç½®ï¼‰ï¼Œ3æ˜¯å› ä¸º*ä¸å…è®¸æºå¸¦è®¤è¯å¤´å’Œcookies
//æ˜¯å¦å…è®¸åç»­è¯·æ±‚æºå¸¦è®¤è¯ä¿¡æ¯ï¼ˆcookiesï¼‰,è¯¥å€¼åªèƒ½æ˜¯true,å¦åˆ™ä¸è¿”å›
'Access-Control-Allow-Credentials:true'
//é¢„æ£€ç»“æœç¼“å­˜æ—¶é—´,ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´åˆ°çš„ç¼“å­˜å•¦
'Access-Control-Max-Age: 1800'
//å…è®¸çš„è¯·æ±‚ç±»å‹
'Access-Control-Allow-Methods:PUT,POST,GET,DELETE,OPTIONS'
//å…è®¸çš„è¯·æ±‚å¤´å­—æ®µ
'Access-Control-Allow-Headers:x-requested-with,content-type'
</code></pre></div><h3 id="_4-ä»£ç†"><a href="#_4-ä»£ç†" class="header-anchor">#</a> 4.ä»£ç†</h3> <p>æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¯·æ±‚çš„æ—¶å€™è¿˜æ˜¯ç”¨å‰ç«¯çš„åŸŸåï¼Œç„¶åæœ‰ä¸ªä¸œè¥¿å¸®æˆ‘ä»¬æŠŠè¿™ä¸ªè¯·æ±‚è½¬å‘åˆ°çœŸæ­£çš„åç«¯åŸŸåä¸Šï¼Œä¸å°±é¿å…è·¨åŸŸäº†å—ï¼Ÿ</p> <p>å¦‚ GIS ä¸“ä¸šæœ€å¸¸æ¥è§¦çš„ esri ä»£ç†ï¼Œåªè¦é…ç½®ä¸€ä¸‹éœ€è¦ä»£ç†çš„åœ°å€ï¼Œå‰ç«¯å°±ä¸ç”¨å¹²ä»€ä¹ˆäº‹æƒ…äº†ï¼Œä¹Ÿæ²¡åç«¯ä»€ä¹ˆäº‹æƒ…äº†</p> <h2 id="åŒæºç­–ç•¥é™åˆ¶ä¸‹-dom-æŸ¥è¯¢çš„æ­£ç¡®æ‰“å¼€æ–¹å¼"><a href="#åŒæºç­–ç•¥é™åˆ¶ä¸‹-dom-æŸ¥è¯¢çš„æ­£ç¡®æ‰“å¼€æ–¹å¼" class="header-anchor">#</a> åŒæºç­–ç•¥é™åˆ¶ä¸‹ Dom æŸ¥è¯¢çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</h2> <h3 id="_1-postmessage"><a href="#_1-postmessage" class="header-anchor">#</a> 1.postMessage</h3> <p>window.postMessage() æ˜¯ HTML5 çš„ä¸€ä¸ªæ¥å£ï¼Œä¸“æ³¨å®ç°ä¸åŒçª—å£ä¸åŒé¡µé¢çš„è·¨åŸŸé€šè®¯ã€‚</p> <p>è¿™é‡Œæ˜¯http://localhost:9099/#/crossDomainï¼Œå‘æ¶ˆæ¯æ–¹</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>postMessage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç»™http://crossDomain.com:9099å‘æ¶ˆæ¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>crossDomainIframe<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://crossdomain.com:9099<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¿™é‡Œä¸€å®šè¦å¯¹æ¥æºåšæ ¡éªŒ</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>origin <span class="token operator">===</span> <span class="token string">&quot;http://crossdomain.com:9099&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¥è‡ªhttp://crossdomain.com:9099çš„ç»“æœå›å¤</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å‘http://crossdomain.com:9099å‘æ¶ˆæ¯</span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> iframe <span class="token operator">=</span> window<span class="token punctuation">.</span>frames<span class="token punctuation">[</span><span class="token string">&quot;crossDomainIframe&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      iframe<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>
        <span class="token string">&quot;æˆ‘æ˜¯[http://localhost:9099], éº»çƒ¦ä½ æŸ¥ä¸€ä¸‹ä½ é‚£è¾¹æœ‰æ²¡æœ‰idä¸ºappçš„Dom&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;http://crossdomain.com:9099&quot;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>è¿™é‡Œæ˜¯http://crossdomain.com:9099ï¼Œæ¥æ”¶æ¶ˆæ¯æ–¹</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;template&gt;
  &lt;div&gt;
    &lt;button @click=&quot;postMessage&quot;&gt;ç»™http://crossDomain.com:9099å‘æ¶ˆæ¯&lt;/button&gt;
    &lt;iframe name=&quot;crossDomainIframe&quot; src=&quot;http://crossdomain.com:9099&quot;&gt;&lt;/iframe&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  mounted () {
    window.addEventListener('message', (e) =&gt; {
      // è¿™é‡Œä¸€å®šè¦å¯¹æ¥æºåšæ ¡éªŒ
      if (e.origin === 'http://crossdomain.com:9099') {
        // æ¥è‡ªhttp://crossdomain.com:9099çš„ç»“æœå›å¤
        console.log(e.data)
      }
    })
  },
  methods: {
    // å‘http://crossdomain.com:9099å‘æ¶ˆæ¯
    postMessage () {
      const iframe = window.frames['crossDomainIframe']
      iframe.postMessage('æˆ‘æ˜¯[http://localhost:9099], éº»çƒ¦ä½ æŸ¥ä¸€ä¸‹ä½ é‚£è¾¹æœ‰æ²¡æœ‰idä¸ºappçš„Dom', 'http://crossdomain.com:9099')
    }
  }
}
&lt;/script&gt;
</code></pre></div><h3 id="_2-document-domain"><a href="#_2-document-domain" class="header-anchor">#</a> 2.document.domain</h3> <p>è¿™ç§æ–¹å¼åªé€‚åˆä¸»åŸŸåç›¸åŒï¼Œä½†å­åŸŸåä¸åŒçš„ iframe è·¨åŸŸã€‚</p> <p>åˆ†äº«å‡ ä¸ªä¾‹å­ï¼š</p> <ul><li>1.è®¿é—®åŒæºé¡µé¢ï¼š</li></ul> <p>æ‰“å¼€https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cookieï¼Œåœ¨f12æ§åˆ¶å°é‡Œwindow.opené¡µé¢ï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headersï¼Œè®¿é—®è¿”å›çš„windowå¯¹è±¡çš„documentå±æ€§ï¼Œå‘ç°èƒ½å¤Ÿè®¿é—®æˆåŠŸï¼Œå¦‚ä¸‹å›¾ï¼š</p> <p><img src="/Blog/assets/img/Same-origin.4f95bf1f.jpg" alt="image"></p> <ul><li>2.è®¿é—®åè®®ã€ç«¯å£å·ä¸€è‡´ï¼ŒåŸŸåä¸ä¸€è‡´ï¼Œä½†å…·æœ‰ç›¸åŒä¸Šçº§åŸŸåçš„é¡µé¢</li></ul> <p>æ‰“å¼€ id.qq.comï¼Œf12 æ‰“å¼€æ§åˆ¶å°ï¼Œwindow.open é¡µé¢: www.qq.comï¼ŒåŒæ ·è®¿é—®è¿”å›çš„ window å¯¹è±¡çš„ document å±æ€§ï¼Œå‘ç°è®¿é—®å¤±è´¥ï¼Œæç¤ºè¢«é˜»æ­¢è®¿é—®è·¨åŸŸçš„çª—ä½“ï¼š</p> <p><img src="/Blog/assets/img/cross-originFailed.3ecba4d6.jpg" alt="image"></p> <p>è¿™ä¸ªæ—¶å€™åˆ†åˆ«æ‰“å° id.qq.com çš„ document.domain å’Œ www.qq.com çš„ document.domainï¼Œå‘ç°å‰è€…æ˜¯ id.qq.comï¼Œè€Œåè€…æ˜¯ qq.comï¼Œè¿™æ—¶æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®ä¸€ä¸‹ id.qq.com é¡µé¢çš„ document.domainï¼Œè®¾ç½®ä¸º qq.comï¼Œå†æ¬¡è®¿é—® www.qq.com çš„ window å¯¹è±¡çš„ documentï¼Œå‘ç°è®¿é—®æˆåŠŸï¼š</p> <p><img src="/Blog/assets/img/accessSuccessful.4fa01744.jpg" alt="image"></p> <h3 id="_3-canvas-æ“ä½œå›¾ç‰‡çš„è·¨åŸŸé—®é¢˜"><a href="#_3-canvas-æ“ä½œå›¾ç‰‡çš„è·¨åŸŸé—®é¢˜" class="header-anchor">#</a> 3.canvas æ“ä½œå›¾ç‰‡çš„è·¨åŸŸé—®é¢˜</h3> <ul><li>1.é¦–å…ˆï¼Œå›¾ç‰‡æœåŠ¡å™¨éœ€è¦é…ç½® Access-Control-Allow-Origin</li></ul> <p>å½“éœ€è¦éœ€è¦å¯¹ canvas å›¾ç‰‡è¿›è¡Œ getImageData()æˆ– toDataURL()æ“ä½œçš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šé‡åˆ°è·¨åŸŸé—®é¢˜ï¼Œè€Œä¸”è·¨åŸŸé—®é¢˜è¿˜ä¸æ­¢ä¸€å±‚ã€‚</p> <p>å›¾ç‰‡æœåŠ¡å™¨éœ€è¦é…ç½® Access-Control-Allow-Origin ä¿¡æ¯ï¼Œæ­¤æ—¶ï¼ŒChrome æµè§ˆå™¨å°±ä¸ä¼šæœ‰ Access-Control-Allow-Origin ç›¸å…³çš„é”™è¯¯ä¿¡æ¯äº†ï¼Œä½†æ˜¯ï¼Œè¿˜ä¼šæœ‰å…¶ä»–çš„è·¨åŸŸé”™è¯¯ä¿¡æ¯ã€‚</p> <ul><li>2.HTML crossOrigin å±æ€§è§£å†³èµ„æºè·¨åŸŸé—®é¢˜</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;crossOrigin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Anonymous&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>å…³äº crossOriginï¼Œæˆ‘ä»¬çœ‹çœ‹ MDN çš„è§£é‡Šã€‚</p> <p><img src="/Blog/assets/img/crossOrigin.1706fa18.jpg" alt="image"></p> <p>è¿™æ®µè¯ï¼Œç”¨æˆ‘è‡ªå·±çš„ç†è§£æ¥è§£é‡Šä¸€ä¸‹ï¼š</p> <p>åŠ äº† crossorigin å±æ€§ï¼Œåˆ™è¡¨æ˜å›¾ç‰‡å°±ä¸€å®šä¼šæŒ‰ç…§ CORS æ¥è¯·æ±‚å›¾ç‰‡ã€‚è€Œé€šè¿‡ CORS è¯·æ±‚åˆ°çš„å›¾ç‰‡å¯ä»¥å†æ¬¡è¢«å¤ç”¨åˆ° canvas ä¸Šè¿›è¡Œç»˜åˆ¶ã€‚æ¢è¨€ä¹‹ï¼Œå¦‚æœä¸åŠ  crossorigin å±æ€§çš„è¯ï¼Œé‚£ä¹ˆå›¾ç‰‡æ˜¯ä¸èƒ½å†æ¬¡è¢«å¤ç”¨åˆ° canvas ä¸Šå»çš„ã€‚
å¯ä»¥è®¾ç½®çš„å€¼æœ‰ anonymous ä»¥åŠ use-credentialsï¼Œ2 ä¸ª value çš„ä½œç”¨éƒ½æ˜¯è®¾ç½®é€šè¿‡ CORS æ¥è¯·æ±‚å›¾ç‰‡ï¼ŒåŒºåˆ«åœ¨äº use-credentials æ˜¯åŠ äº†è¯ä¹¦çš„ CORSã€‚
å¦‚æœé»˜è®¤ç”¨æˆ·ä¸è¿›è¡Œä»»ä½•è®¾ç½®ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå‘èµ· CORS è¯·æ±‚ã€‚ä½†å¦‚æœè®¾ç½®äº†é™¤ anonymous å’Œ use-credentials ä»¥å¤–çš„å…¶ä»–å€¼ï¼ŒåŒ…æ‹¬ç©ºå­—ä¸²åœ¨å†…ï¼Œé»˜è®¤ä¼šå½“ä½œ anonymous æ¥å¤„ç†ã€‚</p> <p>å‚è€ƒæ–‡ç« ï¼š</p> <ul><li><a href="https://segmentfault.com/a/1190000015597029" target="_blank" rel="noopener noreferrer">ä¸è¦å†é—®æˆ‘è·¨åŸŸçš„é—®é¢˜äº†<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/89a377c52b48" target="_blank" rel="noopener noreferrer">æ²¡é”™ï¼Œå°±æ˜¯ Access-Control-Allow-Originï¼Œè·¨åŸŸ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/8fa0fb53c183" target="_blank" rel="noopener noreferrer">ä¸€ä¸ªå…³äº image è®¿é—®å›¾ç‰‡è·¨åŸŸçš„é—®é¢˜<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.jianshu.com/p/c3aa975923de" target="_blank" rel="noopener noreferrer">canvas å›¾ç‰‡é—®é¢˜æµ…æ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="to-top"><svg t="1547627942927" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1955" xmlns:xlink="http://www.w3.org/1999/xlink" width="64" height="64" class="icon"><path d="M752.736 431.063C757.159 140.575 520.41 8.97 504.518 0.41V0l-0.45 0.205-0.41-0.205v0.41c-15.934 8.56-252.723 140.165-248.259 430.653-48.21 31.457-98.713 87.368-90.685 184.074 8.028 96.666 101.007 160.768 136.601 157.287 35.595-3.482 25.232-30.31 25.232-30.31l12.206-50.095s52.47 80.569 69.304 80.528c15.114-1.23 87-0.123 95.6 0h0.82c8.602-0.123 80.486-1.23 95.6 0 16.794 0 69.305-80.528 69.305-80.528l12.165 50.094s-10.322 26.83 25.272 30.31c35.595 3.482 128.574-60.62 136.602-157.286 8.028-96.665-42.475-152.617-90.685-184.074z m-248.669-4.26c-6.758-0.123-94.781-3.359-102.891-107.192 2.95-98.714 95.97-107.438 102.891-107.93 6.964 0.492 99.943 9.216 102.892 107.93-8.11 103.833-96.174 107.07-102.892 107.192z m-52.019 500.531c0 11.838-9.42 21.382-21.012 21.382a21.217 21.217 0 0 1-21.054-21.34V821.74c0-11.797 9.421-21.382 21.054-21.382 11.591 0 21.012 9.585 21.012 21.382v105.635z m77.333 57.222a21.504 21.504 0 0 1-21.34 21.626 21.504 21.504 0 0 1-21.34-21.626V827.474c0-11.96 9.543-21.668 21.299-21.668 11.796 0 21.38 9.708 21.38 21.668v157.082z m71.147-82.043c0 11.796-9.42 21.34-21.053 21.34a21.217 21.217 0 0 1-21.013-21.34v-75.367c0-11.755 9.421-21.299 21.013-21.299 11.632 0 21.053 9.544 21.053 21.3v75.366z" fill="#3eaf7c" p-id="1956"></path></svg></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/29/2023, 2:39:52 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/Blog/dailyRecord/base/HTTP.html" class="prev">
        HTTP è¯·æ±‚ä¸å“åº”
      </a></span> <span class="next"><a href="/Blog/dailyRecord/base/Nginx.html">
        Nginx å…¥é—¨
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Blog/assets/js/app.d6f4b6a2.js" defer></script><script src="/Blog/assets/js/2.fd75a44f.js" defer></script><script src="/Blog/assets/js/8.10f0167f.js" defer></script><script src="/Blog/assets/js/16.090affc6.js" defer></script>
  </body>
</html>
