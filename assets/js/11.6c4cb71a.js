(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{462:function(_,v,t){_.exports=t.p+"assets/img/1.bf65b576.png"},463:function(_,v,t){_.exports=t.p+"assets/img/2.675b6c59.png"},464:function(_,v,t){_.exports=t.p+"assets/img/3.7c7e53e4.png"},465:function(_,v,t){_.exports=t.p+"assets/img/4.58ac68fa.png"},466:function(_,v,t){_.exports=t.p+"assets/img/5.5a0240a8.png"},467:function(_,v,t){_.exports=t.p+"assets/img/6.d47a2c43.png"},552:function(_,v,t){"use strict";t.r(v);var a=t(45),s=Object(a.a)({},(function(){var _=this,v=_.$createElement,a=_._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[a("h1",{attrs:{id:"信创环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#信创环境"}},[_._v("#")]),_._v(" 信创环境")]),_._v(" "),a("h2",{attrs:{id:"主流信创平台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主流信创平台"}},[_._v("#")]),_._v(" 主流信创平台")]),_._v(" "),a("p",[_._v("随着信创类相关政策的陆续出台, 政府逐步开展信创工作. 在日常工作中有可能会涉及到相关内容.")]),_._v(" "),a("p",[_._v("下图为目前主流的信创平台")]),_._v(" "),a("p",[a("img",{attrs:{src:t(462),alt:"image"}})]),_._v(" "),a("h2",{attrs:{id:"平台选型和资源预估"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#平台选型和资源预估"}},[_._v("#")]),_._v(" 平台选型和资源预估")]),_._v(" "),a("p",[_._v("如何对信创软硬件平台进行合理选型和预估")]),_._v(" "),a("h3",{attrs:{id:"分析项目需求"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分析项目需求"}},[_._v("#")]),_._v(" 分析项目需求")]),_._v(" "),a("p",[a("strong",[_._v("部署与集成需求")])]),_._v(" "),a("ol",[a("li",[a("p",[_._v("软硬件平台部署需求, 是否明确系统, 芯片, 数据库, 中间件等")])]),_._v(" "),a("li",[a("p",[_._v("部署于涉密环境还是通用环境")])]),_._v(" "),a("li",[a("p",[_._v("独立部署, 嵌入已有系统, 集成三方设施或应用")])])]),_._v(" "),a("p",[a("strong",[_._v("功能需求")])]),_._v(" "),a("ol",[a("li",[a("p",[_._v("地图, 数据, 三维等基础功能")])]),_._v(" "),a("li",[a("p",[_._v("空间分析, 网络分析, 空间处理分析等")])]),_._v(" "),a("li",[a("p",[_._v("分布式分析, 机器学习, 区块链等")])])]),_._v(" "),a("p",[a("strong",[_._v("质量需求")])]),_._v(" "),a("ol",[a("li",[a("p",[_._v("支撑用户数量, 设备并发数")])]),_._v(" "),a("li",[a("p",[_._v("数据的量级(瓦片数据, 空间数据)")])]),_._v(" "),a("li",[a("p",[_._v("响应时间")])]),_._v(" "),a("li",[a("p",[_._v("安全性需求")])])]),_._v(" "),a("h3",{attrs:{id:"选型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选型"}},[_._v("#")]),_._v(" 选型")]),_._v(" "),a("p",[_._v("如果没有明确相关选型, 根据相关平台的成熟度, 按优先级排序选型:")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("CPU 架构: ARM(鲲鹏/飞腾) > MIPS(龙芯) > X86(兆芯/海光) > SW-64(申威)")])]),_._v(" "),a("li",[a("p",[_._v("操作系统选择与 CPU 架构适配的系统")])]),_._v(" "),a("li",[a("p",[_._v("Web 中间件: TongWeb(东方通) > Apusic(金蝶) > InfoSuite(中创)")])]),_._v(" "),a("li",[a("p",[_._v("数据库: 瀚高 > 达梦 > 高斯 > 人大金仓 > 神舟通用,南大通用 > 浪潮 K-DB")])])]),_._v(" "),a("p",[_._v('在"强信创类"应用中, 需要各个平台都是信创类平台, 考虑到相互的兼容性, 按下表推荐:')]),_._v(" "),a("p",[a("img",{attrs:{src:t(463),alt:"image"}})]),_._v(" "),a("h3",{attrs:{id:"合理预估资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#合理预估资源"}},[_._v("#")]),_._v(" 合理预估资源")]),_._v(" "),a("ol",[a("li",[_._v("功能")])]),_._v(" "),a("ul",[a("li",[a("p",[_._v("强计算类: 动态出图, 叠加分析等需要消耗 CPU 和内存资源")])]),_._v(" "),a("li",[a("p",[_._v("强 IO 类: 瓦片发布, 空间查询, 地址匹配等, 硬盘 IO 要求高")])])]),_._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[_._v("响应时间")])]),_._v(" "),a("ul",[a("li",[_._v("响应时间越低, 资源要求越高, 涉及到计算资源和网络带宽")])]),_._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[_._v("并发用户数")])]),_._v(" "),a("p",[_._v("不同功能并发要求不同, 用户越多资源要求越高, 涉及 CPU, 内存, 网络带宽")]),_._v(" "),a("h4",{attrs:{id:"预估计算资源-cpu-和内存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预估计算资源-cpu-和内存"}},[_._v("#")]),_._v(" 预估计算资源(CPU 和内存)")]),_._v(" "),a("p",[_._v("通过 GIS 功能+并发请求数进行综合评估")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("瓦片出图 1 核 CPU 支持 30 个并发, 动态出图 1 核 CPU 支持 5 个并发")])]),_._v(" "),a("li",[a("p",[_._v("空间查询 1 核 CPU 支持 8 个并发, 空间分析 1 核 CPU 支持 5 个并发")])])]),_._v(" "),a("p",[_._v("CPU 和内存比例")]),_._v(" "),a("ul",[a("li",[_._v("1:2(低配) 如 16C(32G), 1:4(高配) 如 16C(64G)")])]),_._v(" "),a("p",[_._v("多种功能的资源需求, 按功能累加")]),_._v(" "),a("ul",[a("li",[_._v("300 并发瓦片出图, 25 并发动态出图, 40 并发空间查询")]),_._v(" "),a("li",[_._v("CPU(核) = 300/30 + 25/5 + 40/8 = 20")]),_._v(" "),a("li",[_._v("内存 = 20 _ 2 = 40G 低配 或 20 _ 4 = 80G 高配")])]),_._v(" "),a("h4",{attrs:{id:"预估存储资源-硬盘-nas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预估存储资源-硬盘-nas"}},[_._v("#")]),_._v(" 预估存储资源(硬盘/NAS)")]),_._v(" "),a("p",[_._v("数据量 _ 副本数 _ 缓冲比例")]),_._v(" "),a("ul",[a("li",[_._v("缓冲比例: 1.5(低配) 2(高配)")]),_._v(" "),a("li",[_._v("数据量 5T, 3 副本, 缓存比例 2")]),_._v(" "),a("li",[_._v("磁盘容量 = 5 _ 3 _ 2 (30T)")])]),_._v(" "),a("p",[_._v("数据副本如何计算")]),_._v(" "),a("ul",[a("li",[_._v("由磁盘 IO 需求和磁盘 IO 能力决定")]),_._v(" "),a("li",[_._v("磁盘 IO 需要 300M/s, 磁盘 IO 能力为 100M/s")]),_._v(" "),a("li",[_._v("副本数 = 300 / 100 = 3 副本")])]),_._v(" "),a("h4",{attrs:{id:"预估网络带宽"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预估网络带宽"}},[_._v("#")]),_._v(" 预估网络带宽")]),_._v(" "),a("p",[_._v("由系统各个功能的网络带宽需求累加")]),_._v(" "),a("ul",[a("li",[_._v("地图瓦片 30M/s, 三维瓦片 80M/s, 空间查询 5M/s")]),_._v(" "),a("li",[_._v("网络带宽总需求 = 30 + 80 + 5 = 115M/s")])]),_._v(" "),a("p",[_._v("单个功能网络带宽需求由并发数和响应时间决定")]),_._v(" "),a("ul",[a("li",[_._v("单个瓦片 30KB, 5000 个并发, 响应时间 0.5s")]),_._v(" "),a("li",[_._v("网络带宽总需求 = 30KB _ 5000 _ (1/0.5) = 292M/s")])]),_._v(" "),a("h2",{attrs:{id:"部署方案和实施"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署方案和实施"}},[_._v("#")]),_._v(" 部署方案和实施")]),_._v(" "),a("h3",{attrs:{id:"单机多进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单机多进程"}},[_._v("#")]),_._v(" 单机多进程")]),_._v(" "),a("p",[a("img",{attrs:{src:t(464),alt:"image"}})]),_._v(" "),a("p",[a("img",{attrs:{src:t(465),alt:"image"}})]),_._v(" "),a("h3",{attrs:{id:"多机集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多机集群"}},[_._v("#")]),_._v(" 多机集群")]),_._v(" "),a("p",[a("img",{attrs:{src:t(466),alt:"image"}})]),_._v(" "),a("p",[a("img",{attrs:{src:t(467),alt:"image"}})]),_._v(" "),a("h2",{attrs:{id:"性能与稳定性调优"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#性能与稳定性调优"}},[_._v("#")]),_._v(" 性能与稳定性调优")]),_._v(" "),a("h3",{attrs:{id:"常见性能瓶颈原因"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见性能瓶颈原因"}},[_._v("#")]),_._v(" 常见性能瓶颈原因")]),_._v(" "),a("h4",{attrs:{id:"资源使用瓶颈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源使用瓶颈"}},[_._v("#")]),_._v(" 资源使用瓶颈")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("查询 CPU 使用情况(top/xmstat). 并发访问动态出图, 空间分析等计算密集型功能容易导致 CPU 资源不足")])]),_._v(" "),a("li",[a("p",[_._v("查询内存使用情况(top/free). 网络分析模型过大, 发布服务过多等原因造成的内存不足")])]),_._v(" "),a("li",[a("p",[_._v("查询磁盘 IO(iostat/vmstat). 瓦片请求过多, 导致的磁盘 IO 性能瓶颈")])]),_._v(" "),a("li",[a("p",[_._v("查询网络带宽(ifstat/)")])])]),_._v(" "),a("h4",{attrs:{id:"运行环境设置不当"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行环境设置不当"}},[_._v("#")]),_._v(" 运行环境设置不当")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("jvm 堆设置过小")])]),_._v(" "),a("li",[a("p",[_._v("web 中间件设置不当")])])]),_._v(" "),a("h4",{attrs:{id:"地图服务器使用不当"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#地图服务器使用不当"}},[_._v("#")]),_._v(" 地图服务器使用不当")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("发布服务过多, 以及不适当的缓存设置")])]),_._v(" "),a("li",[a("p",[_._v("工作节点过少, 或节点资源分配不足(iserver)")])])]),_._v(" "),a("h4",{attrs:{id:"数据问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据问题"}},[_._v("#")]),_._v(" 数据问题")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("发布服务数据过大")])]),_._v(" "),a("li",[a("p",[_._v("要素复杂或图层过多")])]),_._v(" "),a("li",[a("p",[_._v("未构建空间索引")])])]),_._v(" "),a("h3",{attrs:{id:"常见优化手段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见优化手段"}},[_._v("#")]),_._v(" 常见优化手段")]),_._v(" "),a("h4",{attrs:{id:"加资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加资源"}},[_._v("#")]),_._v(" 加资源")]),_._v(" "),a("ul",[a("li",[_._v("升级 CPU 提示计算能力")]),_._v(" "),a("li",[_._v("升级内存提升实时数据处理能力")]),_._v(" "),a("li",[_._v("升级磁盘提升 IO 能力")]),_._v(" "),a("li",[_._v("升级网卡/网络提升带宽")])]),_._v(" "),a("h4",{attrs:{id:"调架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调架构"}},[_._v("#")]),_._v(" 调架构")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("单机多进程部署, 充分利用单机的性能")])]),_._v(" "),a("li",[a("p",[_._v("多机集群部署")])])]),_._v(" "),a("h4",{attrs:{id:"优化配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化配置"}},[_._v("#")]),_._v(" 优化配置")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("优化 jvm 参数")])]),_._v(" "),a("li",[a("p",[_._v("优化 web 中间件设置, 增大备用链接线程数和最大连接线程数")])])]),_._v(" "),a("h4",{attrs:{id:"减少额外功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#减少额外功能"}},[_._v("#")]),_._v(" 减少额外功能")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("关闭 jar/tld 扫描(JarScanner)")])]),_._v(" "),a("li",[a("p",[_._v("关闭文件变更监控(WatchedResource)")])]),_._v(" "),a("li",[a("p",[_._v("关闭请求访问日志(AccessLog)")])]),_._v(" "),a("li",[a("p",[_._v("关闭响应体自动压缩(Compression)")])]),_._v(" "),a("li",[a("p",[_._v("去除不必要的默认 web 应用")])])]),_._v(" "),a("h4",{attrs:{id:"优化地图服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化地图服务器"}},[_._v("#")]),_._v(" 优化地图服务器")]),_._v(" "),a("ul",[a("li",[a("p",[_._v("删除或停用多余的服务")])]),_._v(" "),a("li",[a("p",[_._v("迁移数据到其他节点")])]),_._v(" "),a("li",[a("p",[_._v("数据合并减少服务个数")])]),_._v(" "),a("li",[a("p",[_._v("使用合适的缓存策略")])])])])}),[],!1,null,null,null);v.default=s.exports}}]);